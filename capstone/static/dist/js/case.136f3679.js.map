{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./static/js/case.js","webpack:////node_modules/mark.js/dist/mark.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","case","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","selectedText","selection","caseContainer","document","querySelector","contextMenu","copiedSuccessfullyText","elidedText","$","showContextMenu","selectedBoundingBox","getRangeAt","getBoundingClientRect","insertFocusableElement","css","left","x","width","top","y","height","show","focusNode","parentNode","after","contextMenuIsFocusedElement","activeElement","className","indexOf","contextMenuIsShown","is","successCall","setTimeout","hide","focus","remove","copyText","evt","textToCopy","getElementById","select","execCommand","preventDefault","getUpdatedURL","url","URL","location","href","searchParams","delete","append","focusableElement","rangeCount","range","docFrag","createContextualFragment","insertNode","createRange","pasteHTML","formatCitation","full_cite","showOrHideElision","el","hasClass","text","removeClass","addClass","attr","getSearchPhrase","urlParams","URLSearchParams","search","on","event","updatedUrl","formattedCitation","addEventListener","keyCode","debounce","getSelection","toString","encodedSelectedText","encodeURIComponent","search_url","target","which","markInstance","Mark","highlightSearchedPhrase","keyphrase","unmark","options","separateWordSearch","diacritics","acrossElements","mark","scrollToFirstHighlighted","rect","scrollTo","global","factory","this","_typeof","iterator","obj","constructor","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","props","descriptor","configurable","writable","protoProps","staticProps","_extends","assign","arguments","source","DOMIterator","ctx","iframes","undefined","exclude","iframesTimeout","filteredCtx","NodeList","isPrototypeOf","Array","isArray","querySelectorAll","forEach","isDescendant","filter","contexts","contains","ifr","successFn","errorFn","doc","ifrWin","contentWindow","Error","e","bl","src","getAttribute","trim","_this","called","tout","listener","clearTimeout","isIframeBlank","removeEventListener","getIframeContents","readyState","observeIframeLoad","done","_this2","eachCalled","forEachIframe","waitForIframes","handled","each","_this3","end","open","checkEnd","matches","onIframeReady","con","whatToShow","createNodeIterator","contents","node","prevNode","compCurr","compareDocumentPosition","prev","Node","DOCUMENT_POSITION_PRECEDING","compPrev","DOCUMENT_POSITION_FOLLOWING","itr","previousNode","nextNode","currIfr","ifrDict","val","compareNodeIframe","eCb","fCb","_this4","createInstanceOnIframe","forEachNode","eachCb","filterCb","doneCb","_this5","createIterator","elements","retrieveNodes","_getIteratorNode","getIteratorNode","checkIframeFilter","ifrNode","handleOpenIframes","_this6","getContexts","ready","iterateThroughNodes","element","selector","selectors","fn","matchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","webkitMatchesSelector","match","every","sel","Mark$1","ie","ua","navigator","userAgent","msg","level","log","opt","debug","str","replace","wildcards","setupWildcardsRegExp","escapeStr","keys","synonyms","createSynonymsRegExp","ignoreJoiners","ignorePunctuation","setupIgnoreJoinersRegExp","createDiacriticsRegExp","createMergedBlanksRegExp","createJoinersRegExp","createWildcardsRegExp","createAccuracyRegExp","syn","sens","caseSensitive","joinerPlaceholder","index","k1","k2","RegExp","processSynomyms","charAt","spaces","indx","original","nextChar","test","joiner","join","split","dct","ch","chars","acc","accuracy","ls","limiters","lsJoin","limiter","sv","stack","kw","kwSplitted","keywords","sort","a","b","Number","parseFloat","array","noMatch","last","start","item","_callNoMatchOnInvalid","callNoMatchOnInvalidRanges","valid","parseInt","isNumeric","JSON","stringify","originalLength","string","max","offset","substring","cb","nodes","NodeFilter","SHOW_TEXT","textContent","matchesExclude","FILTER_REJECT","FILTER_ACCEPT","concat","hEl","startNode","splitText","ret","repl","createElement","setAttribute","replaceChild","dict","sibl","startStr","substr","endStr","wrapRangeInTextNode","k","previousSibling","regex","ignoreGroups","endCb","matchIdx","getTextNodes","exec","pos","lastIndex","_this7","wrapRangeInMappedTextNode","ranges","_this8","counter","_checkWhitespaceRange","checkWhitespaceRanges","parent","createDocumentFragment","firstChild","appendChild","removeChild","normalizeTextNode","normalize","nodeType","nextSibling","nodeValue","regexp","_this9","totalMatches","_this10","_getSeparatedKeywords","getSeparatedKeywords","kwArr","kwArrLen","handler","createRegExp","term","rawRanges","_this11","checkRanges","wrapRangeFromIndex","_this12","SHOW_ELEMENT","unwrapMatches","matchesSel","set","_opt","console","markRegExp","markRanges"],"mappings":"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","file":"js/case.136f3679.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"case\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([8,\"chunk-common\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import $ from 'jquery';\nimport Mark from 'mark.js';\nimport debounce from 'lodash.debounce';\n\nlet caseContainer = document.querySelector(\".case-container\");\nlet contextMenu = document.querySelector(\".context-menu\");\nlet copiedSuccessfullyText = document.querySelector(\".copied-successfully\");\nlet elidedText = $(\".elided-text\");\n\nlet selectedText, selection;\n\n$(contextMenu).on('click', '#copy-url', (event) => {\n  event.preventDefault();\n  let updatedUrl = getUpdatedURL(selectedText);\n  copyText(event, updatedUrl.href);\n  successCall();\n});\n\n$(contextMenu).on('click', '#copy-cite', (event) => {\n  event.preventDefault();\n  let formattedCitation = formatCitation();\n  copyText(event, formattedCitation);\n  successCall();\n});\n\n// This is a workaround: If there are other tab-able elements (like page labels, footnote markers, etc)\n// tabbing will take user away from context menu and go straight to those elements\ndocument.addEventListener('keydown', (event) => {\n  if (event.keyCode === 9 && contextMenuIsShown() && !contextMenuIsFocusedElement()) {\n    $('.context-menu').focus();\n  }\n});\n\ndocument.addEventListener('selectionchange', debounce(() => {\n  if (selectedText && contextMenuIsFocusedElement()) {\n    // if menu is currently focused, don't close menu!\n    return;\n  }\n  selection = window.getSelection();\n  selectedText = selection.getRangeAt(0).toString();\n  $(contextMenu).hide();\n  // update search URLs\n  let encodedSelectedText = encodeURIComponent(selectedText);\n\n  $(\"#search-cap\").attr(\"href\", search_url + \"?page=1&search=\" + encodedSelectedText); // eslint-disable-line\n  if (selectedText) {\n    showContextMenu();\n  }\n}, 300));\n\n// handle elisions\n$(elidedText).on('click', (evt) => {\n  showOrHideElision(evt.target);\n});\n\n$(elidedText).on('keypress', (evt) => {\n  if (evt.which === 13)\n    showOrHideElision(evt.target);\n});\n\nfunction showContextMenu() {\n  let selectedBoundingBox = selection.getRangeAt(0).getBoundingClientRect();\n  insertFocusableElement();\n  $(contextMenu).css({\n    left: selectedBoundingBox.x + (selectedBoundingBox.width / 2) + 'px',\n    top: selectedBoundingBox.y + selectedBoundingBox.height + 'px'\n  }).show();\n  $(selection.focusNode.parentNode).after(contextMenu);\n}\n\nfunction contextMenuIsFocusedElement() {\n  return document.activeElement.className.indexOf(\"context-menu\") > -1;\n}\n\nfunction contextMenuIsShown() {\n  return $('.context-menu').is(\":visible\");\n}\n\nfunction successCall() {\n  $(copiedSuccessfullyText).show();\n  setTimeout(() => {\n    $(contextMenu).hide();\n    $(copiedSuccessfullyText).hide();\n    $('.focusable-element').focus().remove();\n  }, 1000);\n}\n\nfunction copyText(evt, textToCopy) {\n  let t = document.getElementById(\"text-for-copy\");\n  t.value = textToCopy;\n  t.select();\n  document.execCommand('copy');\n  evt.preventDefault()\n}\n\nfunction getUpdatedURL(selectedText) {\n  let url = new URL(window.location.href);\n  url.searchParams.delete('highlight');\n  url.searchParams.append('highlight', selectedText);\n  return url\n}\n\nfunction insertFocusableElement() {\n  // After context menu is hidden, cursor should be on focusable element\n  // Thanks to http://jsfiddle.net/hjfVw/\n\n  // remove any existing elements\n  $('.focusable-element').remove();\n\n  let focusableElement = \"<span class='focusable-element' tabindex='-1'></span>\";\n  if (selection.getRangeAt && selection.rangeCount) {\n    let range = selection.getRangeAt(selection);\n    let docFrag = range.createContextualFragment(focusableElement);\n    range.insertNode(docFrag);\n  } else if (document.selection && document.selection.createRange) {\n    // IE < 9\n    let range = document.selection.createRange();\n    range.pasteHTML(focusableElement);\n  }\n}\n\nfunction formatCitation() {\n  // Returns: \"Selected quotation\" name_abbreviation, official_citation, (<year>)\n  // TODO: add pin cite to citation\n  return \"\\\"\" + selectedText + \"\\\" \" + full_cite; // eslint-disable-line\n}\n\n\n// Elisions\nfunction showOrHideElision(el) {\n  if ($(el).hasClass('shown')) {\n    $(el).text('...');\n    $(el).removeClass('shown')\n  } else {\n    $(el).addClass('shown');\n    $(el).text($(el).attr('data-hidden-text'));\n  }\n}\n\n////// Find URL highlighted query in text\n\nfunction getSearchPhrase() {\n  // get highlight parameter\n  const urlParams = new URLSearchParams(window.location.search);\n  return urlParams.get('highlight');\n}\n\nlet markInstance = new Mark(caseContainer);\n\nfunction highlightSearchedPhrase(keyphrase) {\n  // clear all previously highlighted\n  markInstance.unmark();\n  // highlight all instances of parameter\n  keyphrase = keyphrase || getSearchPhrase();\n  if (!keyphrase) return;\n  let options = {\n    separateWordSearch: false,\n    diacritics: true,\n    acrossElements: true\n  };\n\n  markInstance.mark(keyphrase, options);\n  scrollToFirstHighlighted();\n}\n\nfunction scrollToFirstHighlighted() {\n  let rect = document.querySelector(\"mark\").getBoundingClientRect();\n  window.scrollTo({top: rect.top - 100})\n}\n\nhighlightSearchedPhrase();","/*!***************************************************\n* mark.js v8.11.1\n* https://markjs.io/\n* Copyright (c) 2014–2018, Julian Kühnel\n* Released under the MIT license https://git.io/vwTVl\n*****************************************************/\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.Mark = factory());\n}(this, (function () { 'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar DOMIterator = function () {\n  function DOMIterator(ctx) {\n    var iframes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var exclude = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    var iframesTimeout = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 5000;\n    classCallCheck(this, DOMIterator);\n\n    this.ctx = ctx;\n    this.iframes = iframes;\n    this.exclude = exclude;\n    this.iframesTimeout = iframesTimeout;\n  }\n\n  createClass(DOMIterator, [{\n    key: 'getContexts',\n    value: function getContexts() {\n      var ctx = void 0,\n          filteredCtx = [];\n      if (typeof this.ctx === 'undefined' || !this.ctx) {\n        ctx = [];\n      } else if (NodeList.prototype.isPrototypeOf(this.ctx)) {\n        ctx = Array.prototype.slice.call(this.ctx);\n      } else if (Array.isArray(this.ctx)) {\n        ctx = this.ctx;\n      } else if (typeof this.ctx === 'string') {\n        ctx = Array.prototype.slice.call(document.querySelectorAll(this.ctx));\n      } else {\n        ctx = [this.ctx];\n      }\n      ctx.forEach(function (ctx) {\n        var isDescendant = filteredCtx.filter(function (contexts) {\n          return contexts.contains(ctx);\n        }).length > 0;\n        if (filteredCtx.indexOf(ctx) === -1 && !isDescendant) {\n          filteredCtx.push(ctx);\n        }\n      });\n      return filteredCtx;\n    }\n  }, {\n    key: 'getIframeContents',\n    value: function getIframeContents(ifr, successFn) {\n      var errorFn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n      var doc = void 0;\n      try {\n        var ifrWin = ifr.contentWindow;\n        doc = ifrWin.document;\n        if (!ifrWin || !doc) {\n          throw new Error('iframe inaccessible');\n        }\n      } catch (e) {\n        errorFn();\n      }\n      if (doc) {\n        successFn(doc);\n      }\n    }\n  }, {\n    key: 'isIframeBlank',\n    value: function isIframeBlank(ifr) {\n      var bl = 'about:blank',\n          src = ifr.getAttribute('src').trim(),\n          href = ifr.contentWindow.location.href;\n      return href === bl && src !== bl && src;\n    }\n  }, {\n    key: 'observeIframeLoad',\n    value: function observeIframeLoad(ifr, successFn, errorFn) {\n      var _this = this;\n\n      var called = false,\n          tout = null;\n      var listener = function listener() {\n        if (called) {\n          return;\n        }\n        called = true;\n        clearTimeout(tout);\n        try {\n          if (!_this.isIframeBlank(ifr)) {\n            ifr.removeEventListener('load', listener);\n            _this.getIframeContents(ifr, successFn, errorFn);\n          }\n        } catch (e) {\n          errorFn();\n        }\n      };\n      ifr.addEventListener('load', listener);\n      tout = setTimeout(listener, this.iframesTimeout);\n    }\n  }, {\n    key: 'onIframeReady',\n    value: function onIframeReady(ifr, successFn, errorFn) {\n      try {\n        if (ifr.contentWindow.document.readyState === 'complete') {\n          if (this.isIframeBlank(ifr)) {\n            this.observeIframeLoad(ifr, successFn, errorFn);\n          } else {\n            this.getIframeContents(ifr, successFn, errorFn);\n          }\n        } else {\n          this.observeIframeLoad(ifr, successFn, errorFn);\n        }\n      } catch (e) {\n        errorFn();\n      }\n    }\n  }, {\n    key: 'waitForIframes',\n    value: function waitForIframes(ctx, done) {\n      var _this2 = this;\n\n      var eachCalled = 0;\n      this.forEachIframe(ctx, function () {\n        return true;\n      }, function (ifr) {\n        eachCalled++;\n        _this2.waitForIframes(ifr.querySelector('html'), function () {\n          if (! --eachCalled) {\n            done();\n          }\n        });\n      }, function (handled) {\n        if (!handled) {\n          done();\n        }\n      });\n    }\n  }, {\n    key: 'forEachIframe',\n    value: function forEachIframe(ctx, filter, each) {\n      var _this3 = this;\n\n      var end = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n\n      var ifr = ctx.querySelectorAll('iframe'),\n          open = ifr.length,\n          handled = 0;\n      ifr = Array.prototype.slice.call(ifr);\n      var checkEnd = function checkEnd() {\n        if (--open <= 0) {\n          end(handled);\n        }\n      };\n      if (!open) {\n        checkEnd();\n      }\n      ifr.forEach(function (ifr) {\n        if (DOMIterator.matches(ifr, _this3.exclude)) {\n          checkEnd();\n        } else {\n          _this3.onIframeReady(ifr, function (con) {\n            if (filter(ifr)) {\n              handled++;\n              each(con);\n            }\n            checkEnd();\n          }, checkEnd);\n        }\n      });\n    }\n  }, {\n    key: 'createIterator',\n    value: function createIterator(ctx, whatToShow, filter) {\n      return document.createNodeIterator(ctx, whatToShow, filter, false);\n    }\n  }, {\n    key: 'createInstanceOnIframe',\n    value: function createInstanceOnIframe(contents) {\n      return new DOMIterator(contents.querySelector('html'), this.iframes);\n    }\n  }, {\n    key: 'compareNodeIframe',\n    value: function compareNodeIframe(node, prevNode, ifr) {\n      var compCurr = node.compareDocumentPosition(ifr),\n          prev = Node.DOCUMENT_POSITION_PRECEDING;\n      if (compCurr & prev) {\n        if (prevNode !== null) {\n          var compPrev = prevNode.compareDocumentPosition(ifr),\n              after = Node.DOCUMENT_POSITION_FOLLOWING;\n          if (compPrev & after) {\n            return true;\n          }\n        } else {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: 'getIteratorNode',\n    value: function getIteratorNode(itr) {\n      var prevNode = itr.previousNode();\n      var node = void 0;\n      if (prevNode === null) {\n        node = itr.nextNode();\n      } else {\n        node = itr.nextNode() && itr.nextNode();\n      }\n      return {\n        prevNode: prevNode,\n        node: node\n      };\n    }\n  }, {\n    key: 'checkIframeFilter',\n    value: function checkIframeFilter(node, prevNode, currIfr, ifr) {\n      var key = false,\n          handled = false;\n      ifr.forEach(function (ifrDict, i) {\n        if (ifrDict.val === currIfr) {\n          key = i;\n          handled = ifrDict.handled;\n        }\n      });\n      if (this.compareNodeIframe(node, prevNode, currIfr)) {\n        if (key === false && !handled) {\n          ifr.push({\n            val: currIfr,\n            handled: true\n          });\n        } else if (key !== false && !handled) {\n          ifr[key].handled = true;\n        }\n        return true;\n      }\n      if (key === false) {\n        ifr.push({\n          val: currIfr,\n          handled: false\n        });\n      }\n      return false;\n    }\n  }, {\n    key: 'handleOpenIframes',\n    value: function handleOpenIframes(ifr, whatToShow, eCb, fCb) {\n      var _this4 = this;\n\n      ifr.forEach(function (ifrDict) {\n        if (!ifrDict.handled) {\n          _this4.getIframeContents(ifrDict.val, function (con) {\n            _this4.createInstanceOnIframe(con).forEachNode(whatToShow, eCb, fCb);\n          });\n        }\n      });\n    }\n  }, {\n    key: 'iterateThroughNodes',\n    value: function iterateThroughNodes(whatToShow, ctx, eachCb, filterCb, doneCb) {\n      var _this5 = this;\n\n      var itr = this.createIterator(ctx, whatToShow, filterCb);\n      var ifr = [],\n          elements = [],\n          node = void 0,\n          prevNode = void 0,\n          retrieveNodes = function retrieveNodes() {\n        var _getIteratorNode = _this5.getIteratorNode(itr);\n\n        prevNode = _getIteratorNode.prevNode;\n        node = _getIteratorNode.node;\n\n        return node;\n      };\n      while (retrieveNodes()) {\n        if (this.iframes) {\n          this.forEachIframe(ctx, function (currIfr) {\n            return _this5.checkIframeFilter(node, prevNode, currIfr, ifr);\n          }, function (con) {\n            _this5.createInstanceOnIframe(con).forEachNode(whatToShow, function (ifrNode) {\n              return elements.push(ifrNode);\n            }, filterCb);\n          });\n        }\n        elements.push(node);\n      }\n      elements.forEach(function (node) {\n        eachCb(node);\n      });\n      if (this.iframes) {\n        this.handleOpenIframes(ifr, whatToShow, eachCb, filterCb);\n      }\n      doneCb();\n    }\n  }, {\n    key: 'forEachNode',\n    value: function forEachNode(whatToShow, each, filter) {\n      var _this6 = this;\n\n      var done = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n\n      var contexts = this.getContexts();\n      var open = contexts.length;\n      if (!open) {\n        done();\n      }\n      contexts.forEach(function (ctx) {\n        var ready = function ready() {\n          _this6.iterateThroughNodes(whatToShow, ctx, each, filter, function () {\n            if (--open <= 0) {\n              done();\n            }\n          });\n        };\n        if (_this6.iframes) {\n          _this6.waitForIframes(ctx, ready);\n        } else {\n          ready();\n        }\n      });\n    }\n  }], [{\n    key: 'matches',\n    value: function matches(element, selector) {\n      var selectors = typeof selector === 'string' ? [selector] : selector,\n          fn = element.matches || element.matchesSelector || element.msMatchesSelector || element.mozMatchesSelector || element.oMatchesSelector || element.webkitMatchesSelector;\n      if (fn) {\n        var match = false;\n        selectors.every(function (sel) {\n          if (fn.call(element, sel)) {\n            match = true;\n            return false;\n          }\n          return true;\n        });\n        return match;\n      } else {\n        return false;\n      }\n    }\n  }]);\n  return DOMIterator;\n}();\n\nvar Mark$1 = function () {\n  function Mark(ctx) {\n    classCallCheck(this, Mark);\n\n    this.ctx = ctx;\n    this.ie = false;\n    var ua = window.navigator.userAgent;\n    if (ua.indexOf('MSIE') > -1 || ua.indexOf('Trident') > -1) {\n      this.ie = true;\n    }\n  }\n\n  createClass(Mark, [{\n    key: 'log',\n    value: function log(msg) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'debug';\n\n      var log = this.opt.log;\n      if (!this.opt.debug) {\n        return;\n      }\n      if ((typeof log === 'undefined' ? 'undefined' : _typeof(log)) === 'object' && typeof log[level] === 'function') {\n        log[level]('mark.js: ' + msg);\n      }\n    }\n  }, {\n    key: 'escapeStr',\n    value: function escapeStr(str) {\n      return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n    }\n  }, {\n    key: 'createRegExp',\n    value: function createRegExp(str) {\n      if (this.opt.wildcards !== 'disabled') {\n        str = this.setupWildcardsRegExp(str);\n      }\n      str = this.escapeStr(str);\n      if (Object.keys(this.opt.synonyms).length) {\n        str = this.createSynonymsRegExp(str);\n      }\n      if (this.opt.ignoreJoiners || this.opt.ignorePunctuation.length) {\n        str = this.setupIgnoreJoinersRegExp(str);\n      }\n      if (this.opt.diacritics) {\n        str = this.createDiacriticsRegExp(str);\n      }\n      str = this.createMergedBlanksRegExp(str);\n      if (this.opt.ignoreJoiners || this.opt.ignorePunctuation.length) {\n        str = this.createJoinersRegExp(str);\n      }\n      if (this.opt.wildcards !== 'disabled') {\n        str = this.createWildcardsRegExp(str);\n      }\n      str = this.createAccuracyRegExp(str);\n      return str;\n    }\n  }, {\n    key: 'createSynonymsRegExp',\n    value: function createSynonymsRegExp(str) {\n      var syn = this.opt.synonyms,\n          sens = this.opt.caseSensitive ? '' : 'i',\n          joinerPlaceholder = this.opt.ignoreJoiners || this.opt.ignorePunctuation.length ? '\\0' : '';\n      for (var index in syn) {\n        if (syn.hasOwnProperty(index)) {\n          var value = syn[index],\n              k1 = this.opt.wildcards !== 'disabled' ? this.setupWildcardsRegExp(index) : this.escapeStr(index),\n              k2 = this.opt.wildcards !== 'disabled' ? this.setupWildcardsRegExp(value) : this.escapeStr(value);\n          if (k1 !== '' && k2 !== '') {\n            str = str.replace(new RegExp('(' + this.escapeStr(k1) + '|' + this.escapeStr(k2) + ')', 'gm' + sens), joinerPlaceholder + ('(' + this.processSynomyms(k1) + '|') + (this.processSynomyms(k2) + ')') + joinerPlaceholder);\n          }\n        }\n      }\n      return str;\n    }\n  }, {\n    key: 'processSynomyms',\n    value: function processSynomyms(str) {\n      if (this.opt.ignoreJoiners || this.opt.ignorePunctuation.length) {\n        str = this.setupIgnoreJoinersRegExp(str);\n      }\n      return str;\n    }\n  }, {\n    key: 'setupWildcardsRegExp',\n    value: function setupWildcardsRegExp(str) {\n      str = str.replace(/(?:\\\\)*\\?/g, function (val) {\n        return val.charAt(0) === '\\\\' ? '?' : '\\x01';\n      });\n      return str.replace(/(?:\\\\)*\\*/g, function (val) {\n        return val.charAt(0) === '\\\\' ? '*' : '\\x02';\n      });\n    }\n  }, {\n    key: 'createWildcardsRegExp',\n    value: function createWildcardsRegExp(str) {\n      var spaces = this.opt.wildcards === 'withSpaces';\n      return str.replace(/\\u0001/g, spaces ? '[\\\\S\\\\s]?' : '\\\\S?').replace(/\\u0002/g, spaces ? '[\\\\S\\\\s]*?' : '\\\\S*');\n    }\n  }, {\n    key: 'setupIgnoreJoinersRegExp',\n    value: function setupIgnoreJoinersRegExp(str) {\n      return str.replace(/[^(|)\\\\]/g, function (val, indx, original) {\n        var nextChar = original.charAt(indx + 1);\n        if (/[(|)\\\\]/.test(nextChar) || nextChar === '') {\n          return val;\n        } else {\n          return val + '\\0';\n        }\n      });\n    }\n  }, {\n    key: 'createJoinersRegExp',\n    value: function createJoinersRegExp(str) {\n      var joiner = [];\n      var ignorePunctuation = this.opt.ignorePunctuation;\n      if (Array.isArray(ignorePunctuation) && ignorePunctuation.length) {\n        joiner.push(this.escapeStr(ignorePunctuation.join('')));\n      }\n      if (this.opt.ignoreJoiners) {\n        joiner.push('\\\\u00ad\\\\u200b\\\\u200c\\\\u200d');\n      }\n      return joiner.length ? str.split(/\\u0000+/).join('[' + joiner.join('') + ']*') : str;\n    }\n  }, {\n    key: 'createDiacriticsRegExp',\n    value: function createDiacriticsRegExp(str) {\n      var sens = this.opt.caseSensitive ? '' : 'i',\n          dct = this.opt.caseSensitive ? ['aàáảãạăằắẳẵặâầấẩẫậäåāą', 'AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ', 'cçćč', 'CÇĆČ', 'dđď', 'DĐĎ', 'eèéẻẽẹêềếểễệëěēę', 'EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ', 'iìíỉĩịîïī', 'IÌÍỈĨỊÎÏĪ', 'lł', 'LŁ', 'nñňń', 'NÑŇŃ', 'oòóỏõọôồốổỗộơởỡớờợöøō', 'OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ', 'rř', 'RŘ', 'sšśșş', 'SŠŚȘŞ', 'tťțţ', 'TŤȚŢ', 'uùúủũụưừứửữựûüůū', 'UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ', 'yýỳỷỹỵÿ', 'YÝỲỶỸỴŸ', 'zžżź', 'ZŽŻŹ'] : ['aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ', 'cçćčCÇĆČ', 'dđďDĐĎ', 'eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ', 'iìíỉĩịîïīIÌÍỈĨỊÎÏĪ', 'lłLŁ', 'nñňńNÑŇŃ', 'oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ', 'rřRŘ', 'sšśșşSŠŚȘŞ', 'tťțţTŤȚŢ', 'uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ', 'yýỳỷỹỵÿYÝỲỶỸỴŸ', 'zžżźZŽŻŹ'];\n      var handled = [];\n      str.split('').forEach(function (ch) {\n        dct.every(function (dct) {\n          if (dct.indexOf(ch) !== -1) {\n            if (handled.indexOf(dct) > -1) {\n              return false;\n            }\n            str = str.replace(new RegExp('[' + dct + ']', 'gm' + sens), '[' + dct + ']');\n            handled.push(dct);\n          }\n          return true;\n        });\n      });\n      return str;\n    }\n  }, {\n    key: 'createMergedBlanksRegExp',\n    value: function createMergedBlanksRegExp(str) {\n      return str.replace(/[\\s]+/gmi, '[\\\\s]+');\n    }\n  }, {\n    key: 'createAccuracyRegExp',\n    value: function createAccuracyRegExp(str) {\n      var _this = this;\n\n      var chars = '!\"#$%&\\'()*+,-./:;<=>?@[\\\\]^_`{|}~¡¿';\n      var acc = this.opt.accuracy,\n          val = typeof acc === 'string' ? acc : acc.value,\n          ls = typeof acc === 'string' ? [] : acc.limiters,\n          lsJoin = '';\n      ls.forEach(function (limiter) {\n        lsJoin += '|' + _this.escapeStr(limiter);\n      });\n      switch (val) {\n        case 'partially':\n        default:\n          return '()(' + str + ')';\n        case 'complementary':\n          lsJoin = '\\\\s' + (lsJoin ? lsJoin : this.escapeStr(chars));\n          return '()([^' + lsJoin + ']*' + str + '[^' + lsJoin + ']*)';\n        case 'exactly':\n          return '(^|\\\\s' + lsJoin + ')(' + str + ')(?=$|\\\\s' + lsJoin + ')';\n      }\n    }\n  }, {\n    key: 'getSeparatedKeywords',\n    value: function getSeparatedKeywords(sv) {\n      var _this2 = this;\n\n      var stack = [];\n      sv.forEach(function (kw) {\n        if (!_this2.opt.separateWordSearch) {\n          if (kw.trim() && stack.indexOf(kw) === -1) {\n            stack.push(kw);\n          }\n        } else {\n          kw.split(' ').forEach(function (kwSplitted) {\n            if (kwSplitted.trim() && stack.indexOf(kwSplitted) === -1) {\n              stack.push(kwSplitted);\n            }\n          });\n        }\n      });\n      return {\n        'keywords': stack.sort(function (a, b) {\n          return b.length - a.length;\n        }),\n        'length': stack.length\n      };\n    }\n  }, {\n    key: 'isNumeric',\n    value: function isNumeric(value) {\n      return Number(parseFloat(value)) == value;\n    }\n  }, {\n    key: 'checkRanges',\n    value: function checkRanges(array) {\n      var _this3 = this;\n\n      if (!Array.isArray(array) || Object.prototype.toString.call(array[0]) !== '[object Object]') {\n        this.log('markRanges() will only accept an array of objects');\n        this.opt.noMatch(array);\n        return [];\n      }\n      var stack = [];\n      var last = 0;\n      array.sort(function (a, b) {\n        return a.start - b.start;\n      }).forEach(function (item) {\n        var _callNoMatchOnInvalid = _this3.callNoMatchOnInvalidRanges(item, last),\n            start = _callNoMatchOnInvalid.start,\n            end = _callNoMatchOnInvalid.end,\n            valid = _callNoMatchOnInvalid.valid;\n\n        if (valid) {\n          item.start = start;\n          item.length = end - start;\n          stack.push(item);\n          last = end;\n        }\n      });\n      return stack;\n    }\n  }, {\n    key: 'callNoMatchOnInvalidRanges',\n    value: function callNoMatchOnInvalidRanges(range, last) {\n      var start = void 0,\n          end = void 0,\n          valid = false;\n      if (range && typeof range.start !== 'undefined') {\n        start = parseInt(range.start, 10);\n        end = start + parseInt(range.length, 10);\n        if (this.isNumeric(range.start) && this.isNumeric(range.length) && end - last > 0 && end - start > 0) {\n          valid = true;\n        } else {\n          this.log('Ignoring invalid or overlapping range: ' + ('' + JSON.stringify(range)));\n          this.opt.noMatch(range);\n        }\n      } else {\n        this.log('Ignoring invalid range: ' + JSON.stringify(range));\n        this.opt.noMatch(range);\n      }\n      return {\n        start: start,\n        end: end,\n        valid: valid\n      };\n    }\n  }, {\n    key: 'checkWhitespaceRanges',\n    value: function checkWhitespaceRanges(range, originalLength, string) {\n      var end = void 0,\n          valid = true,\n          max = string.length,\n          offset = originalLength - max,\n          start = parseInt(range.start, 10) - offset;\n      start = start > max ? max : start;\n      end = start + parseInt(range.length, 10);\n      if (end > max) {\n        end = max;\n        this.log('End range automatically set to the max value of ' + max);\n      }\n      if (start < 0 || end - start < 0 || start > max || end > max) {\n        valid = false;\n        this.log('Invalid range: ' + JSON.stringify(range));\n        this.opt.noMatch(range);\n      } else if (string.substring(start, end).replace(/\\s+/g, '') === '') {\n        valid = false;\n        this.log('Skipping whitespace only range: ' + JSON.stringify(range));\n        this.opt.noMatch(range);\n      }\n      return {\n        start: start,\n        end: end,\n        valid: valid\n      };\n    }\n  }, {\n    key: 'getTextNodes',\n    value: function getTextNodes(cb) {\n      var _this4 = this;\n\n      var val = '',\n          nodes = [];\n      this.iterator.forEachNode(NodeFilter.SHOW_TEXT, function (node) {\n        nodes.push({\n          start: val.length,\n          end: (val += node.textContent).length,\n          node: node\n        });\n      }, function (node) {\n        if (_this4.matchesExclude(node.parentNode)) {\n          return NodeFilter.FILTER_REJECT;\n        } else {\n          return NodeFilter.FILTER_ACCEPT;\n        }\n      }, function () {\n        cb({\n          value: val,\n          nodes: nodes\n        });\n      });\n    }\n  }, {\n    key: 'matchesExclude',\n    value: function matchesExclude(el) {\n      return DOMIterator.matches(el, this.opt.exclude.concat(['script', 'style', 'title', 'head', 'html']));\n    }\n  }, {\n    key: 'wrapRangeInTextNode',\n    value: function wrapRangeInTextNode(node, start, end) {\n      var hEl = !this.opt.element ? 'mark' : this.opt.element,\n          startNode = node.splitText(start),\n          ret = startNode.splitText(end - start);\n      var repl = document.createElement(hEl);\n      repl.setAttribute('data-markjs', 'true');\n      if (this.opt.className) {\n        repl.setAttribute('class', this.opt.className);\n      }\n      repl.textContent = startNode.textContent;\n      startNode.parentNode.replaceChild(repl, startNode);\n      return ret;\n    }\n  }, {\n    key: 'wrapRangeInMappedTextNode',\n    value: function wrapRangeInMappedTextNode(dict, start, end, filterCb, eachCb) {\n      var _this5 = this;\n\n      dict.nodes.every(function (n, i) {\n        var sibl = dict.nodes[i + 1];\n        if (typeof sibl === 'undefined' || sibl.start > start) {\n          if (!filterCb(n.node)) {\n            return false;\n          }\n          var s = start - n.start,\n              e = (end > n.end ? n.end : end) - n.start,\n              startStr = dict.value.substr(0, n.start),\n              endStr = dict.value.substr(e + n.start);\n          n.node = _this5.wrapRangeInTextNode(n.node, s, e);\n          dict.value = startStr + endStr;\n          dict.nodes.forEach(function (k, j) {\n            if (j >= i) {\n              if (dict.nodes[j].start > 0 && j !== i) {\n                dict.nodes[j].start -= e;\n              }\n              dict.nodes[j].end -= e;\n            }\n          });\n          end -= e;\n          eachCb(n.node.previousSibling, n.start);\n          if (end > n.end) {\n            start = n.end;\n          } else {\n            return false;\n          }\n        }\n        return true;\n      });\n    }\n  }, {\n    key: 'wrapMatches',\n    value: function wrapMatches(regex, ignoreGroups, filterCb, eachCb, endCb) {\n      var _this6 = this;\n\n      var matchIdx = ignoreGroups === 0 ? 0 : ignoreGroups + 1;\n      this.getTextNodes(function (dict) {\n        dict.nodes.forEach(function (node) {\n          node = node.node;\n          var match = void 0;\n          while ((match = regex.exec(node.textContent)) !== null && match[matchIdx] !== '') {\n            if (!filterCb(match[matchIdx], node)) {\n              continue;\n            }\n            var pos = match.index;\n            if (matchIdx !== 0) {\n              for (var i = 1; i < matchIdx; i++) {\n                pos += match[i].length;\n              }\n            }\n            node = _this6.wrapRangeInTextNode(node, pos, pos + match[matchIdx].length);\n            eachCb(node.previousSibling);\n            regex.lastIndex = 0;\n          }\n        });\n        endCb();\n      });\n    }\n  }, {\n    key: 'wrapMatchesAcrossElements',\n    value: function wrapMatchesAcrossElements(regex, ignoreGroups, filterCb, eachCb, endCb) {\n      var _this7 = this;\n\n      var matchIdx = ignoreGroups === 0 ? 0 : ignoreGroups + 1;\n      this.getTextNodes(function (dict) {\n        var match = void 0;\n        while ((match = regex.exec(dict.value)) !== null && match[matchIdx] !== '') {\n          var start = match.index;\n          if (matchIdx !== 0) {\n            for (var i = 1; i < matchIdx; i++) {\n              start += match[i].length;\n            }\n          }\n          var end = start + match[matchIdx].length;\n          _this7.wrapRangeInMappedTextNode(dict, start, end, function (node) {\n            return filterCb(match[matchIdx], node);\n          }, function (node, lastIndex) {\n            regex.lastIndex = lastIndex;\n            eachCb(node);\n          });\n        }\n        endCb();\n      });\n    }\n  }, {\n    key: 'wrapRangeFromIndex',\n    value: function wrapRangeFromIndex(ranges, filterCb, eachCb, endCb) {\n      var _this8 = this;\n\n      this.getTextNodes(function (dict) {\n        var originalLength = dict.value.length;\n        ranges.forEach(function (range, counter) {\n          var _checkWhitespaceRange = _this8.checkWhitespaceRanges(range, originalLength, dict.value),\n              start = _checkWhitespaceRange.start,\n              end = _checkWhitespaceRange.end,\n              valid = _checkWhitespaceRange.valid;\n\n          if (valid) {\n            _this8.wrapRangeInMappedTextNode(dict, start, end, function (node) {\n              return filterCb(node, range, dict.value.substring(start, end), counter);\n            }, function (node) {\n              eachCb(node, range);\n            });\n          }\n        });\n        endCb();\n      });\n    }\n  }, {\n    key: 'unwrapMatches',\n    value: function unwrapMatches(node) {\n      var parent = node.parentNode;\n      var docFrag = document.createDocumentFragment();\n      while (node.firstChild) {\n        docFrag.appendChild(node.removeChild(node.firstChild));\n      }\n      parent.replaceChild(docFrag, node);\n      if (!this.ie) {\n        parent.normalize();\n      } else {\n        this.normalizeTextNode(parent);\n      }\n    }\n  }, {\n    key: 'normalizeTextNode',\n    value: function normalizeTextNode(node) {\n      if (!node) {\n        return;\n      }\n      if (node.nodeType === 3) {\n        while (node.nextSibling && node.nextSibling.nodeType === 3) {\n          node.nodeValue += node.nextSibling.nodeValue;\n          node.parentNode.removeChild(node.nextSibling);\n        }\n      } else {\n        this.normalizeTextNode(node.firstChild);\n      }\n      this.normalizeTextNode(node.nextSibling);\n    }\n  }, {\n    key: 'markRegExp',\n    value: function markRegExp(regexp, opt) {\n      var _this9 = this;\n\n      this.opt = opt;\n      this.log('Searching with expression \"' + regexp + '\"');\n      var totalMatches = 0,\n          fn = 'wrapMatches';\n      var eachCb = function eachCb(element) {\n        totalMatches++;\n        _this9.opt.each(element);\n      };\n      if (this.opt.acrossElements) {\n        fn = 'wrapMatchesAcrossElements';\n      }\n      this[fn](regexp, this.opt.ignoreGroups, function (match, node) {\n        return _this9.opt.filter(node, match, totalMatches);\n      }, eachCb, function () {\n        if (totalMatches === 0) {\n          _this9.opt.noMatch(regexp);\n        }\n        _this9.opt.done(totalMatches);\n      });\n    }\n  }, {\n    key: 'mark',\n    value: function mark(sv, opt) {\n      var _this10 = this;\n\n      this.opt = opt;\n      var totalMatches = 0,\n          fn = 'wrapMatches';\n\n      var _getSeparatedKeywords = this.getSeparatedKeywords(typeof sv === 'string' ? [sv] : sv),\n          kwArr = _getSeparatedKeywords.keywords,\n          kwArrLen = _getSeparatedKeywords.length,\n          sens = this.opt.caseSensitive ? '' : 'i',\n          handler = function handler(kw) {\n        var regex = new RegExp(_this10.createRegExp(kw), 'gm' + sens),\n            matches = 0;\n        _this10.log('Searching with expression \"' + regex + '\"');\n        _this10[fn](regex, 1, function (term, node) {\n          return _this10.opt.filter(node, kw, totalMatches, matches);\n        }, function (element) {\n          matches++;\n          totalMatches++;\n          _this10.opt.each(element);\n        }, function () {\n          if (matches === 0) {\n            _this10.opt.noMatch(kw);\n          }\n          if (kwArr[kwArrLen - 1] === kw) {\n            _this10.opt.done(totalMatches);\n          } else {\n            handler(kwArr[kwArr.indexOf(kw) + 1]);\n          }\n        });\n      };\n\n      if (this.opt.acrossElements) {\n        fn = 'wrapMatchesAcrossElements';\n      }\n      if (kwArrLen === 0) {\n        this.opt.done(totalMatches);\n      } else {\n        handler(kwArr[0]);\n      }\n    }\n  }, {\n    key: 'markRanges',\n    value: function markRanges(rawRanges, opt) {\n      var _this11 = this;\n\n      this.opt = opt;\n      var totalMatches = 0,\n          ranges = this.checkRanges(rawRanges);\n      if (ranges && ranges.length) {\n        this.log('Starting to mark with the following ranges: ' + JSON.stringify(ranges));\n        this.wrapRangeFromIndex(ranges, function (node, range, match, counter) {\n          return _this11.opt.filter(node, range, match, counter);\n        }, function (element, range) {\n          totalMatches++;\n          _this11.opt.each(element, range);\n        }, function () {\n          _this11.opt.done(totalMatches);\n        });\n      } else {\n        this.opt.done(totalMatches);\n      }\n    }\n  }, {\n    key: 'unmark',\n    value: function unmark(opt) {\n      var _this12 = this;\n\n      this.opt = opt;\n      var sel = this.opt.element ? this.opt.element : '*';\n      sel += '[data-markjs]';\n      if (this.opt.className) {\n        sel += '.' + this.opt.className;\n      }\n      this.log('Removal selector \"' + sel + '\"');\n      this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT, function (node) {\n        _this12.unwrapMatches(node);\n      }, function (node) {\n        var matchesSel = DOMIterator.matches(node, sel),\n            matchesExclude = _this12.matchesExclude(node);\n        if (!matchesSel || matchesExclude) {\n          return NodeFilter.FILTER_REJECT;\n        } else {\n          return NodeFilter.FILTER_ACCEPT;\n        }\n      }, this.opt.done);\n    }\n  }, {\n    key: 'opt',\n    set: function set$$1(val) {\n      this._opt = _extends({}, {\n        'element': '',\n        'className': '',\n        'exclude': [],\n        'iframes': false,\n        'iframesTimeout': 5000,\n        'separateWordSearch': true,\n        'diacritics': true,\n        'synonyms': {},\n        'accuracy': 'partially',\n        'acrossElements': false,\n        'caseSensitive': false,\n        'ignoreJoiners': false,\n        'ignoreGroups': 0,\n        'ignorePunctuation': [],\n        'wildcards': 'disabled',\n        'each': function each() {},\n        'noMatch': function noMatch() {},\n        'filter': function filter() {\n          return true;\n        },\n        'done': function done() {},\n        'debug': false,\n        'log': window.console\n      }, val);\n    },\n    get: function get$$1() {\n      return this._opt;\n    }\n  }, {\n    key: 'iterator',\n    get: function get$$1() {\n      return new DOMIterator(this.ctx, this.opt.iframes, this.opt.exclude, this.opt.iframesTimeout);\n    }\n  }]);\n  return Mark;\n}();\n\nfunction Mark(ctx) {\n  var _this = this;\n\n  var instance = new Mark$1(ctx);\n  this.mark = function (sv, opt) {\n    instance.mark(sv, opt);\n    return _this;\n  };\n  this.markRegExp = function (sv, opt) {\n    instance.markRegExp(sv, opt);\n    return _this;\n  };\n  this.markRanges = function (sv, opt) {\n    instance.markRanges(sv, opt);\n    return _this;\n  };\n  this.unmark = function (opt) {\n    instance.unmark(opt);\n    return _this;\n  };\n  return this;\n}\n\nreturn Mark;\n\n})));\n"],"sourceRoot":""}