{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./static/js/search-source.es6"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","endpoint_list","cases","label","default","format","info","choices","courts","jurisdictions","reporters","app","Vue","el","data","title","hitcount","next_page_url","prev_page_url","page","results","api_url","search_url","endpoint","page_size","last_page","first_page","methods","newSearch","fields","this","resetForm","query_url","length","nextPage","pageCheck","getResultsPage","then","prevPage","startLoading","fetch","response","ok","json","status","document","getElementById","style","display","results_json","count","next","previous","push","stopLoading","seeCases","parameter","$refs","searchform","changeEndpoint","delimiters","template","components","search-form","query","newfield","endpoints","[object Object]","field","choiceLoader","new_endpoint","new_fields","$parent","$emit","removeField","field_to_remove","splice","addField","field_to_add","choice","component","true","false","choice_source","currentFields","return_list","includes","result-list","props","case_view_url","case_id","case_view_url_template","replace","metadata_view_url","id","case-result","court-result","jurisdiction-result","reporter-result"],"mappings":"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","file":"js/search.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","// This is essentially each endpoint with its API interface\nconst endpoint_list = {\n    cases: [\n        {\n            name: \"search\",\n            value: \"\",\n            label: \"Full-Text Search\",\n            default: true,\n            format: \"e.g. \\'insurance\\' illinois\",\n            info: \"\"\n        },\n        {\n            name: \"name_abbreviation\",\n            label: \"Case Name Abbreviation\",\n            value: \"\",\n            format: \"e.g. Taylor v. Sprinkle\",\n            info: \"the abbreviated case name\"\n        },\n        {\n            name: \"decision_date_min\",\n            label: \"Decision Date Earliest\",\n            format: \"YYYY-MM-DD\",\n            info: \"the earliest date on which your results could have been decided\"\n        },\n        {\n            name: \"decision_date_max\",\n            value: \"\",\n            label: \"Decision Date Latest\",\n            format: \"YYYY-MM-DD\",\n            info: \"the latest date on which your results could have been decided\"\n        },\n        {\n            name: \"docket_number\",\n            value: \"\",\n            label: \"Docket Number\",\n            format: \"e.g. Civ. No. 74-289\",\n            info: \"the docket number assigned by the court\"\n        },\n        {\n            name: \"citation\",\n            value: \"\",\n            label: \"Citation\",\n            format: \"e.g. 1 Ill. 17\",\n            info: \"the case citation\"\n        },\n        {\n            name: \"reporter\",\n            value: \"\",\n            label: \"Reporter\",\n            format: \"e.g. ill-app-ct\",\n            info: \"\"\n        },\n        {\n            name: \"court\",\n            value: \"\",\n            label: \"Court\",\n            format: \"e.g. ill-app-ct\",\n            info: \"\"\n        },\n        {\n            name: \"jurisdiction\",\n            value: \"\",\n            label: \"Jurisdiction\",\n            choices: 'jurisdiction',\n            format: \"e.g. ill-app-ct\",\n            info: \"\"\n        }\n    ],\n    courts: [\n        {\n            name: \"slug\",\n            value: \"\",\n            label: \"Slug\",\n            format: \"e.g. ill-app-ct\",\n            info: \"A slug is a unique alphanumeric identifier which is more readable than a numeric ID.\"\n        },\n        {\n            name: \"name\",\n            value: \"\",\n            label: \"Name\",\n            format: \"e.g. \\\"Illinois Supreme Court\\\"\",\n            info: \"the official full court name\"\n        },\n        {\n            name: \"name_abbreviation\",\n            value: \"\",\n            format: \"e.g. \\\"Ill.\\\"\",\n            label: \"Name Abbreviation\",\n            info: \"the abbreviated court name\"\n        },\n        {\n            name: \"jurisdiction\",\n            value: \"\",\n            label: \"Jurisdiction\",\n            choices: 'jurisdiction',\n            default: true,\n            info: \"the court's jurisdiction\"\n        }\n    ],\n    jurisdictions: [\n        {\n            name: \"id\",\n            value: \"\",\n            format: \"e.g. 47\",\n            label: \"Database ID\",\n            info: \"A slug is a unique string that represents a database entry which is more readable than a numeric ID.\"\n        },\n        {\n            name: \"name\",\n            value: \"\",\n            label: \"Name\",\n            format: \"e.g. \\\"Ill.\\\"\",\n            info: \"the short, official name of the jurisdiction\"\n        },\n        {\n            name: \"name_long\",\n            value: \"\",\n            label: \"Long Name\",\n            format: \"e.g. \\\"Illinois\\\"\",\n            default: true,\n            info: \"the long, official name of the jurisdiction\"\n        },\n        {\n            name: \"whitelisted\",\n            value: \"\",\n            label: \"Whitelisted Jurisdiction\",\n            choices: 'whitelisted',\n            info: \"Whitelisted cases are not subject to the 500 case per day access limitation.\"\n        }\n    ],\n    reporters: [\n        {\n            name: \"full_name\",\n            value: \"\",\n            label: \"Full Name\",\n            format: \"e.g. \\\"Illinois Appellate Court Reports\\\"\",\n            info: \"the full reporter name\"\n        },\n        {\n            name: \"short_name\",\n            value: \"\",\n            label: \"Short Name\",\n            format: \"e.g. \\\"Ill. App.\\\"\",\n            info: \"the short reporter name\"\n        },\n        {\n            name: \"start_year\",\n            value: \"\",\n            label: \"Long Name\",\n            format: \"e.g. \\\"1893\\\"\",\n            info: \"the year in which the reporter began publishing\"\n        },\n        {\n            name: \"end_year\",\n            value: \"\",\n            label: \"Long Name\",\n            format: \"e.g. \\\"1894\\\"\",\n            info: \"the year in which the reporter stopped publishing\"\n        },\n        {\n            name: \"jurisdiction\",\n            value: \"\",\n            label: \"Jurisdiction\",\n            choices: 'jurisdiction',\n            default: true,\n            info: \"the reporter's jurisdiction\"\n        }\n    ]\n};\n\n// This is the main Vue app\nvar app = new Vue({\n    el: '#app',\n    data: {\n        title: \"Search\",\n        hitcount: null,\n        next_page_url: null,\n        prev_page_url: null,\n        page: 0,\n        results: [],\n        api_url: search_url,\n        endpoint: 'cases', // only used in the title in search.html. The working endpoint is in the searchform component\n        page_size: 10,\n        last_page: true,\n        first_page: true,\n        choices: {}\n    },\n    methods: {\n        // Each time a new search is queued up\n        newSearch: function (fields, endpoint) {\n            // use all the fields and endpoint to build the query url\n            this.endpoint = endpoint;\n            this.resetForm();\n            var query_url = this.api_url + endpoint + \"/?\";\n            if (fields.length > 0) {\n                for (var i = fields.length - 1; i >= 0; i--) {\n                    if (i !== fields.length - 1) {\n                        query_url += \"&\";\n                    }\n                    if (fields[i]['value']) {\n                        query_url += (fields[i]['name'] + \"=\" + fields[i]['value']);\n                    }\n                }\n                query_url += \"&page_size=\" + this.page_size;\n            } else {\n                query_url += \"page_size=\" + this.page_size;\n            }\n            this.first_page = true;\n            this.next_page_url = query_url;\n            this.nextPage();\n        },\n        nextPage: function () {\n            if (this.results[this.page + 1]) {\n                this.page++;\n                this.pageCheck()\n            } else if (this.next_page_url) {\n                this.getResultsPage(this.next_page_url).then(function () {\n                    app.pageCheck();\n                });\n            }\n        },\n        prevPage: function () {\n            if (this.page > 0) {\n                this.page--\n                this.pageCheck()\n            }\n        },\n        getResultsPage: function (query_url) {\n            this.startLoading();\n            return fetch(query_url)\n                .then(function (response) {\n                    if (response.ok) {\n                        return response.json();\n                    }\n                    if (response.status === 500) {\n                        document.getElementById(\"loading-overlay\").style.display = 'none';\n                        //TODO\n                    }\n                    //console.log(response.status, response.statusText, query_url)\n                })\n                .then(function (results_json) {\n                    app.hitcount = results_json.count;\n                    app.next_page_url = results_json.next;\n                    app.prev_page_url = results_json.previous;\n                    app.page = app.results.push(results_json.results) - 1;\n                })\n                .then(function () {\n                    app.stopLoading();\n                })\n        },\n        resetForm: function () {\n            this.title = \"Search\"\n            this.hitcount = null;\n            this.next_page_url = null;\n            this.prev_page_url = null;\n            this.page = 0;\n            this.results = [];\n            this.last_page = true;\n            this.first_page = true;\n        },\n        pageCheck: function () {\n            if (this.prev_page_url === null || this.page === 0) {\n                this.first_page = true\n            } else {\n                this.first_page = false\n            }\n\n            if (this.next_page_url === null && this.page === this.results.length - 1) {\n                this.last_page = true\n            } else {\n                this.last_page = false\n            }\n        },\n        startLoading: function () {\n            document.getElementById(\"loading-overlay\").style.display = 'block';\n        },\n        stopLoading: function () {\n            document.getElementById(\"loading-overlay\").style.display = 'none';\n        },\n        seeCases: function (parameter, value) {\n            fields = [ { \"label\": parameter, \"name\": parameter, \"value\" : value } ]\n            this.newSearch(fields, \"cases\")\n            this.$refs.searchform.changeEndpoint(\"cases\", fields)\n        }\n    },\n    delimiters: ['[[', ']]'],\n    template: '',\n\n    components: {\n        'search-form': {\n            data: function () {\n                return {\n                    query: [],\n                    newfield: null,\n                    endpoint: 'cases',\n                    fields: [endpoint_list['cases'][0]],\n                    endpoints: endpoint_list\n                }\n            },\n            template: '<form v-on:submit.prevent>\\\n                    <div class=\"row\">\\\n                        <div class=\"col-12\">\\\n                            <ul class=\"nav nav-tabs\">\\\n                                <li class=\"search-tab\" v-for=\"(current_fields, current_endpoint) in endpoints\">\\\n                                    <a v-if=\"current_endpoint == endpoint\" @click=\"changeEndpoint(current_endpoint)\" class=\"nav-link active\">{{ current_endpoint }}</a>\\\n                                    <a v-else=\"current_endpoint == endpoint\" @click=\"changeEndpoint(current_endpoint)\" class=\"nav-link\">{{ current_endpoint }}</a>\\\n                                </li>\\\n                            </ul>\\\n                        </div>\\\n                    </div> \\\n                    <div id=\"searchform\">\\\n                        <div v-for=\"field in fields\">\\\n                            <div class=\"row field_row_container\">\\\n                                <div class=\"col-4 field_label_container\">\\\n                                    <label class=\"querylabel\" :for=\"field[\\'name\\']\">{{ field[\"label\"] }}</label><br>\\\n                                </div>\\\n                                <div class=\"col-7 field_value_container\">\\\n                                    <template v-if=\"field[\\'choices\\']\">\\\n                                        <select v-model=\\'field[\"value\"]\\' :id=\\'field[\"name\"]\\'>\\\n                                            <option v-for=\"(label, value) in choiceLoader(field[\\'choices\\'])\" :value=\"value\">{{ label }}</option> \\\n                                        </select>\\\n                                    </template>\\\n                                    <template v-else-if=\"field[\\'format\\']\">\\\n                                        <input v-model=\\'field[\"value\"]\\' class=\"queryfield\" :id=\\'field[\"name\"]\\' type=\"text\" :placeholder=\\'field[\"format\"]\\'>\\\n                                    </template>\\\n                                    <template v-else>\\\n                                        <input v-model=\\'field[\"value\"]\\' class=\"queryfield\" :id=\\'field[\"name\"]\\' type=\"text\">\\\n                                    </template>\\\n                                </div>\\\n                                <div class=\"col-1\">\\\n                                    <div class=\"remfield\">\\\n                                        <button v-if=\"fields.length > 1\" class=\"field-button\" @click=\"removeField(field[\\'name\\'])\">&ndash;</button>\\\n                                        <button v-if=\"fields.length <= 1\" class=\"field-button disabled\">&ndash;</button>\\\n                                    </div>\\\n                                </div>\\\n                            </div>\\\n                        </div>\\\n                    </div>\\\n                        <div class=\"row field_row_container\">\\\n                            <div class=\"col-4 field_label_container\">\\\n                            </div>\\\n                                <div class=\"col-7 field_value_container\">\\\n                                    <template v-if=\"fields.length > 0\">\\\n                                        <div class=\"dropdown addfield\">\\\n                                            <button class=\"dropdown-toggle add-field-button btn-block\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">Add Field</button>\\\n                                            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\\\n                                                <a class=\"dropdown-item\" v-for=\"newfield in currentFields(endpoint)\" @click=\"addField(newfield)\" href=\"#\">{{ newfield[\"label\"] }}</a>\\\n                                            </div>\\\n                                        </div>\\\n                                    </template>\\\n                                </div>\\\n                            <div class=\"col-1\">\\\n                                <div class=\"remfield\">\\\n                                </div>\\\n                            </div>\\\n                        </div>\\\n                        <div class=\"search-button-row row\">\\\n                            <div class=\"col-11 text-right\">\\\n                                <input @click=\"$emit(\\'new-search\\', fields, endpoint)\" type=\"submit\" value=\"Search\">\\\n                            </div>\\\n                        </div>\\\n                    </form>\\\n                ',\n            beforeMount() {\n                for (endpoint in endpoint_list) {\n                    for (field in endpoint_list[endpoint]){\n                            if ('choices' in endpoint_list[endpoint][field]) {\n                                this.choiceLoader(endpoint_list[endpoint][field].choices);\n                        }\n                    }\n                }\n            },\n            methods: {\n                changeEndpoint: function (new_endpoint, new_fields=[]) {\n                    this.$parent.endpoint = new_endpoint // to update title\n                    this.endpoint = new_endpoint;\n                    this.fields = new_fields;\n                    this.$emit('change-endpoint');\n                    if (new_fields.length === 0 ) {\n                        for (var i = this.endpoints[new_endpoint].length - 1; i >= 0; i--) {\n                            if (this.endpoints[new_endpoint][i]['default']) {\n                                this.fields.push(this.endpoints[new_endpoint][i]);\n                            }\n                        }\n                    }\n                },\n                removeField: function (field_to_remove) {\n                    for (var i = this.fields.length - 1; i >= 0; i--) {\n                        if (this.fields[i]['name'] === field_to_remove) {\n                            this.fields.splice(i, 1);\n                        }\n                    }\n                },\n                addField: function (field_to_add) {\n                    for (var i = this.fields.length - 1; i >= 0; i--) {\n                        if (this.fields[i]['name'] === field_to_add['name']) {\n                            return false;\n                        }\n                    }\n                    this.fields.push(field_to_add);\n                },\n                choiceLoader: function (choice) {\n                    component = null;\n                    if (app){\n                        component = app;\n                    } else if ('choices' in this.$parent) {\n                        component = this.$parent;\n                    }\n\n                    if (choice in component.choices) {\n                        return component.choices[choice];\n                    }\n                    if (choice == \"whitelisted\") {\n                        return { \"true\": \"Whitelisted\", \"false\": \"Not Whitelisted\" }\n                    }\n                    component.startLoading();\n                    return fetch(choice_source[choice])\n                        .then(function (response) {\n                            if (response.ok) {\n                                return response.json();\n                            }\n                            if (response.status === 500) {\n                                document.getElementById(\"loading-overlay\").style.display = 'none';\n                                //TODO Set up some kind of error condition\n                            }\n                        })\n                        .then(function (results_json) {\n                            component.choices[choice] = results_json;\n                        })\n                        .then(function () {\n                            component.stopLoading();\n                        })\n                    },\n                currentFields: function (endpoint) {\n                    return_list = []\n                    for (field in endpoint_list[endpoint]) {\n                        if (!this.fields.includes(endpoint_list[endpoint][field])) {\n                            return_list.push(endpoint_list[endpoint][field])\n                        }\n                    }\n                    return return_list\n                }\n            }\n        },\n        'result-list': {\n            props: [\n                'results',\n                'endpoint',\n                'hitcount',\n                'page',\n                'first_page',\n                'last_page'\n            ],\n            template: '<div>\\\n                <div class=\"hitcount\" v-if=\"hitcount\">Results: {{ hitcount }}</div>\\\n                <ul class=\"results-list\">\\\n                    <case-result v-if=\\\"endpoint == \\'cases\\'\\\" v-for=\"result in results[page]\" :result=\"result\" :key=\"result.id\"></case-result>\\\n                    <court-result v-if=\\\"endpoint == \\'courts\\'\\\" v-for=\"result in results[page]\" :result=\"result\" :key=\"result.id\"></court-result>\\\n                    <jurisdiction-result v-if=\\\"endpoint == \\'jurisdictions\\'\\\" v-for=\"result in results[page]\" :result=\"result\" :key=\"result.id\"></jurisdiction-result>\\\n                    <reporter-result v-if=\\\"endpoint == \\'reporters\\'\\\" v-for=\"result in results[page]\" :result=\"result\" :key=\"result.id\"></reporter-result>\\\n                </ul>\\\n                <div v-if=\"this.$parent.results.length != 0\" class=\"row\">\\\n                    <div class=\"col-6\">\\\n                        <button class=\"btn btn-sm\" v-if=\"first_page !== true\" @click=\"$emit(\\'prev-page\\')\">&lt;&lt; Prev Page {{ page }} </button>\\\n                        <button class=\"btn btn-sm disabled\" v-else disabled>&lt;&lt; Prev Page</button>\\\n                    </div>\\\n                    <div class=\"col-6 text-right\">\\\n                        <button class=\"btn btn-sm\" v-if=\"last_page !== true\" @click=\"$emit(\\'next-page\\')\">Next Page {{ page + 2 }}&gt;&gt;</button>\\\n                        <button class=\"btn btn-sm disabled\" v-else disabled>Next Page &gt;&gt;</button>\\\n                    </div>\\\n                </div>\\\n            </div>',\n            methods: {\n                case_view_url: function (case_id) {\n                    return case_view_url_template.replace('987654321', case_id)\n                },\n                metadata_view_url: function (endpoint, id) {\n                    return case_view_url_template.replace('987654321', id).replace('/case/', \"/\" + endpoint + \"/\")\n                },\n            },\n            components: {\n                'case-result': {\n                    props: [\n                        'result'\n                    ],\n                    template: '\\\n                <li class=\"result\">\\\n                    <div class=\"result-title row\">\\\n                        <div class=\"row\">\\\n                            <a target=\"_blank\" v-text=\"result.name_abbreviation\" :href=\"$parent.case_view_url(result.id)\"></a>\\\n                        </div>\\\n                    </div>\\\n                    <div class=\"result-data\">\\\n                        <div class=\"row\">\\\n                            <div class = \"col-12\">\\\n                                <ul class=\"citation-list\">\\\n                                    <li class=\"citation-entry\" v-for=\"citation in result.citations\">\\\n                                        <span class=\"result-citation-type\">{{  citation.type  }}</span>\\\n                                        <span class=\"result-citation\">{{ citation.cite }} </span>\\\n                                    </li>\\\n                                </ul>\\\n                            </div>\\\n                        </div>\\\n                        <div class=\"row\">\\\n                            <div class=\"col-3\">{{ result.decision_date }}</div>\\\n                            <div class=\"col-4\" v-if=\"result.court\" >{{ result.court.name }}, volume {{ result.jurisdiction.volume_number }}</div>\\\n                        </div>\\\n                        <div class=\"row\">\\\n                            <div v-text=\"result.name\" class=\"full-name col-12\">\\</div>\\\n                        </div>\\\n                    </div>\\\n                </li>'\n                },\n                'court-result': {\n                    props: [\n                        'result'\n                    ],\n                    template: '\\\n                        <li class=\"result\">\\\n                            <div class=\"result-title row\">\\\n                                <div class=\"row\">\\\n                                    <div class=\"result-title col-12\">\\\n                                        <a target=\"_blank\" v-text=\"result.name_abbreviation\" :href=\"$parent.metadata_view_url(\\'court\\', result.id)\"></a>\\\n                                    </div>\\\n                                </div>\\\n                            </div>\\\n                            <div class=\"result-data\">\\\n                                <div class=\"row\">\\\n                                    <div class=\"col-6\">\\\n                                        <span class=\"result-data-label\">Abbreviation:</span> {{ result.name_abbreviation }}\\\n                                    </div>\\\n                                    <div class = \"col-3\">\\\n                                        <span class=\"result-data-label\">Jurisdiction:</span> {{ result.jurisdiction }}\\\n                                    </div>\\\n                                    <div class=\"col-3 text-right\"> \\\n                                        <button @click=\"$parent.$emit(\\'see-cases\\', \\'court\\', result.slug)\">Cases</button>\\ \\\n                                    </div>\\\n                                </div>\\\n                            </div>\\\n                        </li>'\n                },\n                'jurisdiction-result': {\n                    props: [\n                        'result'\n                    ],\n                    template: '\\\n                        <li class=\"result\">\\\n                            <div class=\"result-title row\">\\\n                                <div class=\"row\">\\\n                                    <div class=\"result-title col-12\">\\\n                                        <a target=\"_blank\" v-text=\"result.name_long\" :href=\"$parent.metadata_view_url(\\'jurisdiction\\', result.id)\"></a>\\\n                                    </div>\\\n                                </div>\\\n                            </div>\\\n                            <div class=\"result-data\">\\\n                                <div class=\"row\">\\\n                                    <div class=\"col-6\">\\\n                                        <span class=\"result-data-label\">Abbreviation:</span> {{ result.name }}\\\n                                    </div>\\\n                                    <div class = \"col-4\">\\\n                                        <span class=\"result-data-label\">Slug:</span> {{ result.slug }}\\\n                                    </div>\\\n                                    <div class=\"col-2 text-right\"> \\\n                                        <button @click=\"$parent.$emit(\\'see-cases\\', \\'jurisdiction\\', result.slug)\">Cases</button>\\ \\\n                                    </div>\\\n                                </div>\\\n                            </div>\\\n                        </li>'\n                },\n                'reporter-result': {\n                    props: [\n                        'result'\n                    ],\n                    template: '\\\n                        <li class=\"result\">\\\n                            <div class=\"result-title row\">\\\n                                <div class=\"row\">\\\n                                    <div class=\"result-title col-12\">\\\n                                        <a target=\"_blank\" v-text=\"result.full_name\" :href=\"$parent.metadata_view_url(\\'reporter\\', result.id)\"></a>\\\n                                    </div>\\\n                                </div>\\\n                            </div>\\\n                            <div class=\"result-data\">\\\n                                <div class=\"row\">\\\n                                    <div class=\"col-9\">\\\n                                        <span class=\"result-data-label\">Abbreviation:</span> {{ result.short_name }}\\\n                                    </div>\\\n                                    <div class=\"col-3 text-right\"> \\\n                                        <button @click=\"$parent.$emit(\\'see-cases\\', \\'reporter\\', result.id)\">Cases</button>\\ \\\n                                    </div>\\\n                                </div>\\\n                            </div>\\\n                        </li>'\n                },\n            }\n        }\n    }\n});\n"],"sourceRoot":""}