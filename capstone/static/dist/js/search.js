(function(e){var t={};function i(l){if(t[l])return t[l].exports;var a=t[l]={i:l,l:!1,exports:{}};return e[l].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,l){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(l,a,function(t){return e[t]}.bind(null,a));return l},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/static/dist/",i(i.s=4)})({4:function(e,t,i){e.exports=i("faa1")},faa1:function(e,t){const i={cases:[{name:"name_abbreviation",label:"Case Name Abbreviation",value:"",format:"e.g. Taylor v. Sprinkle",info:"the abbreviated case name"},{name:"decision_date_min",label:"Decision Date Earliest",format:"YYYY-MM-DD",info:"the earliest date on which your results could have been decided"},{name:"decision_date_max",value:"",label:"Decision Date Latest",format:"YYYY-MM-DD",info:"the latest date on which your results could have been decided"},{name:"docket_number",value:"",label:"Docket Number",format:"(string)",info:"the docket number assigned by the court"},{name:"citation",value:"",label:"Citation",format:"e.g. 1 Ill. 17",info:"the case citation"},{name:"reporter",value:"",label:"Reporter",format:"e.g. ill-app-ct",info:""},{name:"court",value:"",label:"Court",format:"e.g. ill-app-ct",info:""},{name:"jurisdiction",value:"",label:"Jurisdiction",choices:"jurisdiction",format:"e.g. ill-app-ct",info:""},{name:"search",value:"",label:"Name Abbreviation",default:!0,format:"e.g. ill-app-ct",info:""}],courts:[{name:"slug",value:"",label:"Name",format:"e.g. ill-app-ct",info:"A slug is a unique alphanumeric identifier which is more readable than a numeric ID."},{name:"name",value:"",label:"Name",format:'e.g. "Illinois Supreme Court"',info:"the official full court name"},{name:"name_abbreviation",value:"",format:'e.g. "Ill."',label:"Name Abbreviation",info:"the abbreviated court name"},{name:"jurisdiction",value:"",label:"Jurisdiction",choices:"jurisdiction",default:!0,info:"the court's jurisdiction"}],jurisdictions:[{name:"id",value:"",format:"e.g. 47",label:"Database ID",info:"A slug is a unique string that represents a database entry which is more readable than a numeric ID."},{name:"name",value:"",label:"Name",format:'e.g. "Ill."',info:"the short, official name of the jurisdiction"},{name:"name_long",value:"",label:"Long Name",format:'e.g. "Illinois"',info:"the long, official name of the jurisdiction"},{name:"whitelisted",value:"",label:"Whitelisted Jurisdiction",choices:"whitelisted",info:"Whitelisted cases are not subject to the 500 case per day access limitation."}],volumes:[],reporters:[{name:"full_name",value:"",label:"Full Name",format:'e.g. "Illinois Appellate Court Reports"',info:"the full reporter name"},{name:"short_name",value:"",label:"Short Name",format:'e.g. "Ill. App."',info:"the short reporter name"},{name:"start_year",value:"",label:"Long Name",format:'e.g. "1893"',info:"the year in which the reporter began publishing"},{name:"end_year",value:"",label:"Long Name",format:'e.g. "1894"',info:"the year in which the reporter stopped publishing"}]};var l=new Vue({el:"#app",data:{title:"Browse or Search",hitcount:null,next_page_url:null,prev_page_url:null,page:0,results:[],api_url:search_url,endpoint:"",page_size:1,last_page:!0,first_page:!0,choices:{}},methods:{newSearch:function(e,t){this.endpoint=t,this.resetForm();var i=this.api_url+t+"/?";if(e.length>0){for(var l=e.length-1;l>=0;l--)l!==e.length-1&&(i+="&"),e[l]["value"]&&(i+=e[l]["name"]+"="+e[l]["value"]);i+="&page_size="+this.page_size}else i+="page_size="+this.page_size;this.first_page=!0,this.next_page_url=i,this.nextPage()},nextPage:function(){this.results[this.page+1]?(this.page++,this.pageCheck()):this.next_page_url&&this.getResultsPage(this.next_page_url).then(function(){l.pageCheck()})},prevPage:function(){this.page>0&&(this.page--,this.pageCheck())},getResultsPage:function(e){return this.startLoading(),fetch(e).then(function(t){if(t.ok)return t.json();500===t.status&&(document.getElementById("loading-overlay").style.display="none"),console.log(t.status,t.statusText,e)}).then(function(e){l.hitcount=e.count,l.next_page_url=e.next,l.prev_page_url=e.previous,l.page=l.results.push(e.results)-1}).then(function(){l.stopLoading()})},resetForm:function(){this.title="Browse or Search",this.hitcount=null,this.next_page_url=null,this.prev_page_url=null,this.page=0,this.results=[],this.last_page=!0,this.first_page=!0},pageCheck:function(){null===this.prev_page_url||0===this.page?this.first_page=!0:this.first_page=!1,null===this.next_page_url&&this.page===this.results.length-1?this.last_page=!0:this.last_page=!1},startLoading:function(){document.getElementById("loading-overlay").style.display="block"},stopLoading:function(){document.getElementById("loading-overlay").style.display="none"}},delimiters:["[[","]]"],template:"",beforeMount(){console.log("bongle")},components:{"search-form":{data:function(){return{query:[],newfield:null,endpoint:"cases",fields:[{name:"search",label:"Full Text Search",value:""}],endpoints:i}},template:'<form v-on:submit.prevent>                <div>                    Currently Searching: <select v-model="endpoint" @change="changeEndpoint(endpoint)">                        <option v-for="(current_fields, current_endpoint) in endpoints">{{ current_endpoint }}</option>                    </select>                </div>                <ul>                    <li v-for="field in fields">                        <label class="querylabel" :for="field[\'name\']">{{ field["label"] }}</label><br>                        <template v-if="field[\'choices\']">                            <select v-model=\'field["value"]\' :id=\'field["name"]\'>                                <option v-for="(label, value) in choiceLoader(field[\'choices\'])" :value="value">{{ label }}</option>                             </select>                        </template>                        <template v-else-if="field[\'format\']">                            <input v-model=\'field["value"]\' class="queryfield" :id=\'field["name"]\' type="text" :placeholder=\'field["format"]\'>                        </template>                        <template v-else>                            <input v-model=\'field["value"]\' class="queryfield" :id=\'field["name"]\' type="text">                        </template>                        <button class="querybutton" v-if="fields.length > 1" @click="removeField(field[\'name\'])">&ndash;</button>                        <br>                    </li>                    <li>                    Add a field:                        <select v-model="newfield" @change="fields.push(newfield)">                            <option v-for="newfield in endpoints[endpoint]" v-bind:value="newfield">{{ newfield["label"] }}</option>                        </select>                    </li>                </ul>                <input @click="$emit(\'new-search\', fields, endpoint)" type="submit">             </form>',methods:{changeEndpoint:function(e){this.endpoint=e,this.fields=[],this.$emit("change-endpoint");for(var t=this.endpoints[e].length-1;t>=0;t--)this.endpoints[e][t]["default"]&&this.fields.push(this.endpoints[e][t])},removeField:function(e){for(var t=this.fields.length-1;t>=0;t--)this.fields[t]["name"]===e&&this.fields.splice(t,1)},addField:function(e){for(var t=this.fields.length-1;t>=0;t--)if(this.fields[t]["name"]===e["name"])return!1;this.fields.push(e)},choiceLoader:function(e){return e in l.choices?l.choices[e]:"whitelisted"==e?{true:"Whitelisted",false:"Not Whitelisted"}:(l.startLoading(),fetch(choice_source[e]).then(function(e){if(e.ok)return e.json();500===e.status&&(document.getElementById("loading-overlay").style.display="none"),console.log(e.status,e.statusText,choice_source)}).then(function(t){l.choices[e]=t}).then(function(){l.stopLoading()}))}}},"result-list":{props:["results","endpoint","hitcount","page","first_page","last_page"],template:'<div>                <div class="hitcount" v-if="hitcount">Results: {{ hitcount }}</div>                <button v-if="first_page !== true" @click="$emit(\'prev-page\')">&lt;&lt;Page {{ page }} </button>                <button v-if="last_page !== true" @click="$emit(\'next-page\')">Page {{ page + 2 }}&gt;&gt;</button>                <ul class="results-list">                    <case-result v-if="endpoint == \'cases\'" v-for="result in results[page]" :result="result" :key="result.id"></case-result>                    <court-result v-if="endpoint == \'courts\'" v-for="result in results[page]" :result="result" :key="result.id"></court-result>                </ul>             </div>',components:{"case-result":{props:["result"],template:'                <li class="result">                  <div class="search-title">                    <a v-text="result.name_abbreviation" :href="case_browse_url(result.id)"></a>                  </div>                  <div class="search-data">                    <div class="result-first-row">                      <div class="result-first-row-left">                        <ul class="citation-list">                            <li class="citation-entry" v-for="citation in result.citations">                                <span class="result-citation-type">{{  citation.type  }}</span>                                <span class="result-citation">{{ citation.cite }} </span>                            </li>                        </ul>                      </div>                    </div>                    <div class="result-second-row">                      <div class="result-dec-date">{{ result.decision_date }}</div>                      <div v-if="result.court" class="result-court-name">{{ result.court.name }}</div>                      <div v-if="result.volume" class="result-volume-number">v. {{ result.volume.volume_number }}</div>                    </div>                  </div>                </li>',methods:{case_browse_url:function(e){return case_browse_url_template.replace("987654321",e)}}},"court-result":{props:["result"],template:'                    <li class="result">                        <div class="search-title"><a v-text="result.name" :href="result.url"></a></div>                        <div class="search-data">                            <div class="result-first-row">                                <div class="result-first-row-left">{{ result.id }}</div>                                <div class="result-first-row-left">{{ result.name_abbreviation }}</div>                            </div>                            <div class="result-second-row">                                <div class="result-dec-date"></div>                                <div class="result-court-name">{{ result.jurisdiction }}</div>                                <div class="result-volume-number"></div>                            </div>                        </div>                    </li>'}}}}});console.log("asdas")}});
//# sourceMappingURL=search.js.map