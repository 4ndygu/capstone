(function(e){function t(t){for(var r,i,a=t[0],d=t[1],l=t[2],f=0,h=[];f<a.length;f++)i=a[f],o[i]&&h.push(o[i][0]),o[i]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(e[r]=d[r]);u&&u(t);while(h.length)h.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var d=n[a];0!==o[d]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={"case-editor":0},c=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/static/dist/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],d=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=d;c.push([10,"chunk-common"]),n()})({10:function(e,t,n){e.exports=n("facb")},facb:function(e,t,n){"use strict";n.r(t);n("2bf3"),n("ef92"),n("5b54");var r=import_page_images_from_django_template,o=import_processed_pages_from_django_template,c=document.getElementById("see_wc").checked,i=document.getElementById("see_ocr").checked,a=null;function d(e,t,n,r,o,c){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=n.getContext("2d");a.clearRect(0,0,n.width,n.height),a.globalAlpha=c?.2:1,a.drawImage(t,0,0),r.forEach(function(e){var t=e["word_confidence"],n=e["word"],r=e["x"],d=e["y"],l=e["w"],u=e["h"];if(i==e&&(a.strokeStyle="green",a.strokeRect(r,d,l,u)),o&&t<.5){a.globalAlpha=.6-t;var f=255*t+127;a.fillStyle="rgb("+f+", 0, 0)",a.fillRect(r,d,l,u)}c&&(a.globalAlpha=1,a.fillStyle="blue",a.font="20px Georgia",a.fillText(n,r,d+12))})}function l(e,t,n,r,o){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2,i=document.getElementById("word_focus");i.height=o*c+20,i.width=r*c+20;var a=i.getContext("2d");a.drawImage(e,t-5,n-5,e.height+10,e.width+10,0,0,e.height*c,e.width*c)}function u(e,t,n,r,c,i){o.forEach(function(e,o){d(e,t[o],n[o],r[o],c,i)})}function f(e,t,n,r,o,u,f){f.forEach(function(h){var g=h["word"],s=h["word_confidence"],m=h["x"],w=h["y"],v=h["w"],_=h["h"];e>m&&e<m+v&&t>w&&t<w+_&&(document.getElementById("current_word").value=g,document.getElementById("current_word_confidence").innerHTML=s,l(p[n],m,w,v,_),d(r,o,u,f,c,i,h),a=h)})}function h(e,t,n,r,o,c,i){var l=e.page_id;o[l].forEach(function(u,f){e==u&&(a=o[l][f+1],d(t[l],n[l],r[l],o[l],c,i,a))})}var g=document.getElementById("canvas_div"),s={},p={},m={},w={};o.forEach(function(e,t){s[t]=document.createElement("canvas"),g.appendChild(s[t]),s[t].addEventListener("click",function(n){var r=n.target.getBoundingClientRect(),o=n.clientX-r.left,c=n.clientY-r.top;f(o,c,t,e,p[t],s[t],w[t])}),p[t]=new Image,p[t].addEventListener("load",function(){s[t].width=p[t].width,s[t].height=p[t].height,m[t]=p[t].width/r[t]["width"],w[t]=[],Object.keys(e).forEach(function(n){Object.keys(e[n]).forEach(function(r){e[n][r].forEach(function(e){w[t].push({page_id:t,block_id:n,line_label:r,word_confidence:e["wc"],word:e["word"],x:e["rect"][0]*m[t],y:e["rect"][1]*m[t],w:e["rect"][2]*m[t],h:e["rect"][3]*m[t],original_rect:e["rect"]})})})}),d(e,p[t],s[t],w[t],c,i)}),p[t].setAttribute("src",r[t]["url"])}),document.getElementById("see_wc").addEventListener("change",function(e){c=e.target.checked,u(o,p,s,w,c,i)}),document.getElementById("see_ocr").addEventListener("change",function(e){i=e.target.checked,u(o,p,s,w,c,i)}),document.getElementById("next_word").addEventListener("click",function(){a&&h(a,o,p,s,w,c,i)})}});
//# sourceMappingURL=case-editor.3bc675d8.js.map