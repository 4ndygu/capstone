{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./static/js/search-source.es6"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","endpoint_list","cases","label","format","info","choices","default","courts","jurisdictions","volumes","reporters","app","Vue","el","data","title","hitcount","next_page_url","prev_page_url","page","results","api_url","search_url","endpoint","page_size","last_page","first_page","methods","newSearch","fields","console","log","this","resetForm","query_url","length","nextPage","pageCheck","getResultsPage","then","prevPage","startLoading","fetch","response","ok","json","status","document","getElementById","style","display","statusText","results_json","count","next","previous","push","stopLoading","seeCases","parameter","$refs","searchform","changeEndpoint","delimiters","template","components","search-form","query","newfield","endpoints","[object Object]","field","choiceLoader","new_endpoint","new_fields","$parent","$emit","removeField","field_to_remove","splice","addField","field_to_add","choice","component","true","false","choice_source","result-list","props","case-result","case_browse_url","case_id","case_browse_url_template","replace","court-result","volume-result","jurisdiction-result","reporter-result"],"mappings":"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","file":"js/search.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","// This is essentially each endpoint with its API interface\nconst endpoint_list = {\n    cases: [\n        {\n            name: \"name_abbreviation\",\n            label: \"Case Name Abbreviation\",\n            value: \"\",\n            format: \"e.g. Taylor v. Sprinkle\",\n            info: \"the abbreviated case name\"\n        },\n        {\n            name: \"decision_date_min\",\n            label: \"Decision Date Earliest\",\n            format: \"YYYY-MM-DD\",\n            info: \"the earliest date on which your results could have been decided\"\n        },\n        {\n            name: \"decision_date_max\",\n            value: \"\",\n            label: \"Decision Date Latest\",\n            format: \"YYYY-MM-DD\",\n            info: \"the latest date on which your results could have been decided\"\n        },\n        {\n            name: \"docket_number\",\n            value: \"\",\n            label: \"Docket Number\",\n            format: \"(string)\",\n            info: \"the docket number assigned by the court\"\n        },\n        {\n            name: \"citation\",\n            value: \"\",\n            label: \"Citation\",\n            format: \"e.g. 1 Ill. 17\",\n            info: \"the case citation\"\n        },\n        {\n            name: \"reporter\",\n            value: \"\",\n            label: \"Reporter\",\n            format: \"e.g. ill-app-ct\",\n            info: \"\"\n        },\n        {\n            name: \"court\",\n            value: \"\",\n            label: \"Court\",\n            format: \"e.g. ill-app-ct\",\n            info: \"\"\n        },\n        {\n            name: \"jurisdiction\",\n            value: \"\",\n            label: \"Jurisdiction\",\n            choices: 'jurisdiction',\n            format: \"e.g. ill-app-ct\",\n            info: \"\"\n        },\n        {\n            name: \"search\",\n            value: \"\",\n            label: \"Full-Text Search\",\n            default: true,\n            format: \"e.g. \\'insurance\\'illinois\",\n            info: \"\"\n        }\n    ],\n    courts: [\n        {\n            name: \"slug\",\n            value: \"\",\n            label: \"Name\",\n            format: \"e.g. ill-app-ct\",\n            info: \"A slug is a unique alphanumeric identifier which is more readable than a numeric ID.\"\n        },\n        {\n            name: \"name\",\n            value: \"\",\n            label: \"Name\",\n            format: \"e.g. \\\"Illinois Supreme Court\\\"\",\n            info: \"the official full court name\"\n        },\n        {\n            name: \"name_abbreviation\",\n            value: \"\",\n            format: \"e.g. \\\"Ill.\\\"\",\n            label: \"Name Abbreviation\",\n            info: \"the abbreviated court name\"\n        },\n        {\n            name: \"jurisdiction\",\n            value: \"\",\n            label: \"Jurisdiction\",\n            choices: 'jurisdiction',\n            default: true,\n            info: \"the court's jurisdiction\"\n        }\n    ],\n    jurisdictions: [\n        {\n            name: \"id\",\n            value: \"\",\n            format: \"e.g. 47\",\n            label: \"Database ID\",\n            info: \"A slug is a unique string that represents a database entry which is more readable than a numeric ID.\"\n        },\n        {\n            name: \"name\",\n            value: \"\",\n            label: \"Name\",\n            format: \"e.g. \\\"Ill.\\\"\",\n            info: \"the short, official name of the jurisdiction\"\n        },\n        {\n            name: \"name_long\",\n            value: \"\",\n            label: \"Long Name\",\n            format: \"e.g. \\\"Illinois\\\"\",\n            default: true,\n            info: \"the long, official name of the jurisdiction\"\n        },\n        {\n            name: \"whitelisted\",\n            value: \"\",\n            label: \"Whitelisted Jurisdiction\",\n            choices: 'whitelisted',\n            info: \"Whitelisted cases are not subject to the 500 case per day access limitation.\"\n        }\n    ],\n    volumes: [],\n    reporters: [\n        {\n            name: \"full_name\",\n            value: \"\",\n            label: \"Full Name\",\n            format: \"e.g. \\\"Illinois Appellate Court Reports\\\"\",\n            info: \"the full reporter name\"\n        },\n        {\n            name: \"short_name\",\n            value: \"\",\n            label: \"Short Name\",\n            format: \"e.g. \\\"Ill. App.\\\"\",\n            info: \"the short reporter name\"\n        },\n        {\n            name: \"start_year\",\n            value: \"\",\n            label: \"Long Name\",\n            format: \"e.g. \\\"1893\\\"\",\n            info: \"the year in which the reporter began publishing\"\n        },\n        {\n            name: \"end_year\",\n            value: \"\",\n            label: \"Long Name\",\n            format: \"e.g. \\\"1894\\\"\",\n            info: \"the year in which the reporter stopped publishing\"\n        },\n        {\n            name: \"jurisdiction\",\n            value: \"\",\n            label: \"Jurisdiction\",\n            choices: 'jurisdiction',\n            default: true,\n            info: \"the reporter's jurisdiction\"\n        }\n    ]\n};\n\n// This is the main Vue app\nvar app = new Vue({\n    el: '#app',\n    data: {\n        title: \"Browse or Search\",\n        hitcount: null,\n        next_page_url: null,\n        prev_page_url: null,\n        page: 0,\n        results: [],\n        api_url: search_url,\n        endpoint: 'cases', // only used in the title in browse.html. The working endpoint is in the searchform component\n        page_size: 10,\n        last_page: true,\n        first_page: true,\n        choices: {}\n    },\n    methods: {\n        // Each time a new search is queued up\n        newSearch: function (fields, endpoint) {\n            console.log(fields)\n            // use all the fields and endpoint to build the query url\n            this.endpoint = endpoint;\n            this.resetForm();\n            var query_url = this.api_url + endpoint + \"/?\";\n            if (fields.length > 0) {\n                for (var i = fields.length - 1; i >= 0; i--) {\n                    if (i !== fields.length - 1) {\n                        query_url += \"&\";\n                    }\n                    if (fields[i]['value']) {\n                        query_url += (fields[i]['name'] + \"=\" + fields[i]['value']);\n                    }\n                }\n                query_url += \"&page_size=\" + this.page_size;\n            } else {\n                query_url += \"page_size=\" + this.page_size;\n            }\n            this.first_page = true;\n            this.next_page_url = query_url;\n            this.nextPage();\n        },\n        nextPage: function () {\n            if (this.results[this.page + 1]) {\n                this.page++;\n                this.pageCheck()\n            } else if (this.next_page_url) {\n                this.getResultsPage(this.next_page_url).then(function () {\n                    app.pageCheck();\n                });\n            }\n        },\n        prevPage: function () {\n            if (this.page > 0) {\n                this.page--\n                this.pageCheck()\n            }\n        },\n        getResultsPage: function (query_url) {\n            this.startLoading();\n            console.log(query_url)\n            return fetch(query_url)\n                .then(function (response) {\n                    if (response.ok) {\n                        return response.json();\n                    }\n                    if (response.status === 500) {\n                        document.getElementById(\"loading-overlay\").style.display = 'none';\n                        //TODO\n                    }\n                    console.log(response.status, response.statusText, query_url)\n                })\n                .then(function (results_json) {\n                    app.hitcount = results_json.count;\n                    app.next_page_url = results_json.next;\n                    app.prev_page_url = results_json.previous;\n                    app.page = app.results.push(results_json.results) - 1;\n                })\n                .then(function () {\n                    app.stopLoading();\n                })\n        },\n        resetForm: function () {\n            this.title = \"Browse or Search\"\n            this.hitcount = null;\n            this.next_page_url = null;\n            this.prev_page_url = null;\n            this.page = 0;\n            this.results = [];\n            this.last_page = true;\n            this.first_page = true;\n        },\n        pageCheck: function () {\n            if (this.prev_page_url === null || this.page === 0) {\n                this.first_page = true\n            } else {\n                this.first_page = false\n            }\n\n            if (this.next_page_url === null && this.page === this.results.length - 1) {\n                this.last_page = true\n            } else {\n                this.last_page = false\n            }\n        },\n        startLoading: function () {\n            document.getElementById(\"loading-overlay\").style.display = 'block';\n        },\n        stopLoading: function () {\n            document.getElementById(\"loading-overlay\").style.display = 'none';\n        },\n        seeCases: function (parameter, value) {\n            fields = [ { \"label\": parameter, \"name\": parameter, \"value\" : value } ]\n            this.newSearch(fields, \"cases\")\n            this.$refs.searchform.changeEndpoint(\"cases\", fields)\n        }\n    },\n    delimiters: ['[[', ']]'],\n    template: '',\n\n    components: {\n        'search-form': {\n            data: function () {\n                return {\n                    query: [],\n                    newfield: null,\n                    endpoint: 'cases',\n                    fields: [{\n                        name: \"search\",\n                        label: \"Full-Text Search\",\n                        format:\"e.g. \\'insurance illinois\\'\",\n                        value: \"\"\n                    }],\n                    endpoints: endpoint_list\n                }\n            },\n            template: '<form v-on:submit.prevent>\\\n                <div class=\"row\">\\\n                    <template v-for=\"(current_fields, current_endpoint) in endpoints\">\\\n                        <div class=\"col\">\\\n                            <input type=\"radio\" :id=\"current_endpoint\" :value=\"current_endpoint\" @change=\"changeEndpoint(endpoint)\" v-model=\"endpoint\">\\\n                            <label :for=\"current_endpoint\" v-text=\"current_endpoint\"></label>\\\n                        </div>\\\n                    </template>\\\n                </div>\\\n                <div>\\\n                    <div v-for=\"field in fields\">\\\n                        <div class=\"row field_row_container\">\\\n                            <div class=\"col-4 field_label_container\">\\\n                                <label class=\"querylabel\" :for=\"field[\\'name\\']\">{{ field[\"label\"] }}</label><br>\\\n                            </div>\\\n                            <div class=\"col-7 field_value_container\">\\\n                                <template v-if=\"field[\\'choices\\']\">\\\n                                    <select v-model=\\'field[\"value\"]\\' :id=\\'field[\"name\"]\\'>\\\n                                        <option v-for=\"(label, value) in choiceLoader(field[\\'choices\\'])\" :value=\"value\">{{ label }}</option> \\\n                                    </select>\\\n                                </template>\\\n                                <template v-else-if=\"field[\\'format\\']\">\\\n                                    <input v-model=\\'field[\"value\"]\\' class=\"queryfield\" :id=\\'field[\"name\"]\\' type=\"text\" :placeholder=\\'field[\"format\"]\\'>\\\n                                </template>\\\n                                <template v-else>\\\n                                    <input v-model=\\'field[\"value\"]\\' class=\"queryfield\" :id=\\'field[\"name\"]\\' type=\"text\">\\\n                                </template>\\\n                            </div>\\\n                            <div class=\"col-1\">\\\n                                <button class=\"querybutton\" v-if=\"fields.length > 1\" @click=\"removeField(field[\\'name\\'])\">&ndash;</button>\\\n                            </div>\\\n                        </div>\\\n                    </div>\\\n                    <template v-if=\"fields.length > 0\">\\\n                        <div>\\\n                        <div class=\"row field_row_container\">\\\n                            <div class=\"col-4 field_label_container\">\\\n                                <select v-model=\"newfield\" @change=\"fields.push(newfield)\">\\\n                                    <option v-for=\"newfield in endpoints[endpoint]\" v-bind:value=\"newfield\">{{ newfield[\"label\"] }}</option>\\\n                                    <option value=\"\" disabled selected>Add a field</option>\\\n                                </select>\\\n                            </div>\\\n                            <div class=\"col-7 field_value_container\">\\\n                                <input type=\"text\" class=\"queryfield\" placeholder = \"add a new field\" disabled>\\\n                            </div>\\\n                        </div>\\\n                        </div>\\\n                    </template>\\\n                </div>\\\n                <template v-if=\"fields.length > 0\">\\\n                    <input @click=\"$emit(\\'new-search\\', fields, endpoint)\" type=\"submit\">\\\n                </template>\\\n                <template v-else>\\\n                    <input @click=\"$emit(\\'new-search\\', fields, endpoint)\" type=\"submit\" value=\"Browse All\">\\\n                </template>\\\n             </form>',\n            beforeMount() {\n                for (endpoint in endpoint_list) {\n                    for (field in endpoint_list[endpoint]){\n                            if ('choices' in endpoint_list[endpoint][field]) {\n                                this.choiceLoader(endpoint_list[endpoint][field].choices);\n                        }\n                    }\n                }\n            },\n            methods: {\n                changeEndpoint: function (new_endpoint, new_fields=[]) {\n                    this.$parent.endpoint = new_endpoint // to update title\n                    this.endpoint = new_endpoint;\n                    this.fields = new_fields;\n                    this.$emit('change-endpoint');\n                    if (new_fields.length === 0 ) {\n                        for (var i = this.endpoints[new_endpoint].length - 1; i >= 0; i--) {\n                            if (this.endpoints[new_endpoint][i]['default']) {\n                                this.fields.push(this.endpoints[new_endpoint][i]);\n                            }\n                        }\n                    }\n                },\n\n                removeField: function (field_to_remove) {\n                    for (var i = this.fields.length - 1; i >= 0; i--) {\n                        if (this.fields[i]['name'] === field_to_remove) {\n                            this.fields.splice(i, 1);\n                        }\n                    }\n                },\n                addField: function (field_to_add) {\n                    for (var i = this.fields.length - 1; i >= 0; i--) {\n                        if (this.fields[i]['name'] === field_to_add['name']) {\n                            return false;\n                        }\n                    }\n                    this.fields.push(field_to_add);\n                },\n\n                choiceLoader: function (choice) {\n                    component = null;\n                    if (app){\n                        component = app;\n                    } else if ('choices' in this.$parent) {\n                        component = this.$parent;\n                    }\n\n                    if (choice in component.choices) {\n                        return component.choices[choice];\n                    }\n                    if (choice == \"whitelisted\") {\n                        return { \"true\": \"Whitelisted\", \"false\": \"Not Whitelisted\" }\n                    }\n                    component.startLoading();\n                    return fetch(choice_source[choice])\n                        .then(function (response) {\n                            if (response.ok) {\n                                return response.json();\n                            }\n                            if (response.status === 500) {\n                                document.getElementById(\"loading-overlay\").style.display = 'none';\n                                //TODO Set up some kind of error condition\n                            }\n                        })\n                        .then(function (results_json) {\n                            component.choices[choice] = results_json;\n                        })\n                        .then(function () {\n                            component.stopLoading();\n                        })\n                    }\n            }\n        },\n        'result-list': {\n            props: [\n                'results',\n                'endpoint',\n                'hitcount',\n                'page',\n                'first_page',\n                'last_page'\n            ],\n            template: '<div>\\\n                <div class=\"hitcount\" v-if=\"hitcount\">Results: {{ hitcount }}</div>\\\n                <button v-if=\"first_page !== true\" @click=\"$emit(\\'prev-page\\')\">&lt;&lt;Page {{ page }} </button>\\\n                <button v-if=\"last_page !== true\" @click=\"$emit(\\'next-page\\')\">Page {{ page + 2 }}&gt;&gt;</button>\\\n                <ul class=\"results-list\">\\\n                    <case-result v-if=\\\"endpoint == \\'cases\\'\\\" v-for=\"result in results[page]\" :result=\"result\" :key=\"result.id\"></case-result>\\\n                    <court-result v-if=\\\"endpoint == \\'courts\\'\\\" v-for=\"result in results[page]\" :result=\"result\" :key=\"result.id\"></court-result>\\\n                    <jurisdiction-result v-if=\\\"endpoint == \\'jurisdictions\\'\\\" v-for=\"result in results[page]\" :result=\"result\" :key=\"result.id\"></jurisdiction-result>\\\n                    <volume-result v-if=\\\"endpoint == \\'volumes\\'\\\" v-for=\"result in results[page]\" :result=\"result\" :key=\"result.id\"></volume-result>\\\n                    <reporter-result v-if=\\\"endpoint == \\'reporters\\'\\\" v-for=\"result in results[page]\" :result=\"result\" :key=\"result.id\"></reporter-result>\\\n                </ul>\\\n             </div>',\n            components: {\n                'case-result': {\n                    props: [\n                        'result'\n                    ],\n                    template: '\\\n                <li class=\"result\">\\\n                  <div class=\"search-title\">\\\n                    <a target=\"_blank\" v-text=\"result.name_abbreviation\" :href=\"case_browse_url(result.id)\"></a>\\\n                  </div>\\\n                  <div class=\"search-data\">\\\n                    <div class=\"result-first-row\">\\\n                      <div class=\"result-first-row-left\">\\\n                        <ul class=\"citation-list\">\\\n                            <li class=\"citation-entry\" v-for=\"citation in result.citations\">\\\n                                <span class=\"result-citation-type\">{{  citation.type  }}</span>\\\n                                <span class=\"result-citation\">{{ citation.cite }} </span>\\\n                            </li>\\\n                        </ul>\\\n                      </div>\\\n                    </div>\\\n                    <div class=\"result-second-row\">\\\n                      <div class=\"result-dec-date\">{{ result.decision_date }}</div>\\\n                      <div v-if=\"result.court\" class=\"result-court-name\">{{ result.court.name }}</div>\\\n                      <div v-if=\"result.volume\" class=\"result-volume-number\">v. {{ result.volume.volume_number }}</div>\\\n                    </div>\\\n                  </div>\\\n                </li>',\n                    methods: {\n                        case_browse_url: function (case_id) {\n                            return case_browse_url_template.replace('987654321', case_id)\n                        },\n                    }\n                },\n                'court-result': {\n                    props: [\n                        'result'\n                    ],\n                    template: '\\\n                    <li class=\"result\">\\\n                        <div class=\"search-title\"><a v-text=\"result.name\" @click=\"$parent.$emit(\\'see-cases\\', \\'court\\', result.slug)\"></a></div>\\\n                        <div class=\"search-data\">\\\n                            <div class=\"result-first-row\">\\\n                                <div class=\"result-first-row-left\">{{ result.jurisdiction }}</div>\\\n                                <div class=\"result-first-row-left\">{{ result.name_abbreviation }}</div>\\\n                            </div>\\\n                        </div>\\\n                    </li>',\n                },\n                'volume-result': {\n                    props: [\n                        'result'\n                    ],\n                    template: '\\\n                    <li class=\"result\">\\\n                        <div class=\"search-title\"><a :href=\"result.url\">{{ result.reporter }} v. {{ result.volume_number }}</a></div>\\\n                        <div class=\"search-data\">\\\n                            <div class=\"result-first-row\">\\\n                                <div class=\"result-first-row-left\">{{ result.publication_year }}</div>\\\n                                <div class=\"result-first-row-left\">{{ result.jurisdiction }}</div>\\\n                            </div>\\\n                        </div>\\\n                    </li>'\n                },\n                'jurisdiction-result': {\n                    props: [\n                        'result'\n                    ],\n                    template: '\\\n                    <li class=\"result\">\\\n                        <div class=\"search-title\"><a v-text=\"\" @click=\"$parent.$emit(\\'see-cases\\', \\'jurisdiction\\', result.slug)\">{{result.name_long}} ({{ result.name }})</a></div>\\\n                        <div class=\"search-data\">\\\n                            <div class=\"result-first-row\">\\\n                                Slug: <div class=\"result-first-row-left\">{{ result.slug }}</div>\\\n                                Abbr: <div class=\"result-first-row-left\">{{ result.name_abbreviation }}</div>\\\n                            </div>\\\n                        </div>\\\n                    </li>'\n                },\n                'reporter-result': {\n                    props: [\n                        'result'\n                    ],\n                    template: '\\\n                    <li class=\"result\">\\\n                        <div class=\"search-title\"><a v-text=\"result.full_name\" @click=\"$parent.$emit(\\'see-cases\\', \\'reporter\\', result.id)\"></a></div>\\\n                        <div class=\"search-data\">\\\n                            <div class=\"result-first-row\">\\\n                                <div class=\"result-first-row-left\"><a :href=\"result.url\">Browse Cases</a></div>\\\n                                <div class=\"result-first-row-left\">{{ result.short_name }}</div>\\\n                            </div>\\\n                        </div>\\\n                    </li>'\n                },\n            }\n        }\n    }\n});\n"],"sourceRoot":""}