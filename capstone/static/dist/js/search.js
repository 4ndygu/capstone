(function(e){var t={};function i(l){if(t[l])return t[l].exports;var a=t[l]={i:l,l:!1,exports:{}};return e[l].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,l){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(l,a,function(t){return e[t]}.bind(null,a));return l},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/static/dist/",i(i.s=4)})({4:function(e,t,i){e.exports=i("faa1")},faa1:function(e,t){const i={cases:[{name:"search",value:"",label:"Full-Text Search",default:!0,format:"e.g. 'insurance' illinois",info:""},{name:"name_abbreviation",label:"Case Name Abbreviation",value:"",format:"e.g. Taylor v. Sprinkle",info:"the abbreviated case name"},{name:"decision_date_min",label:"Decision Date Earliest",format:"YYYY-MM-DD",info:"the earliest date on which your results could have been decided"},{name:"decision_date_max",value:"",label:"Decision Date Latest",format:"YYYY-MM-DD",info:"the latest date on which your results could have been decided"},{name:"docket_number",value:"",label:"Docket Number",format:"e.g. Civ. No. 74-289",info:"the docket number assigned by the court"},{name:"citation",value:"",label:"Citation",format:"e.g. 1 Ill. 17",info:"the case citation"},{name:"reporter",value:"",label:"Reporter",format:"e.g. ill-app-ct",info:""},{name:"court",value:"",label:"Court",format:"e.g. ill-app-ct",info:""},{name:"jurisdiction",value:"",label:"Jurisdiction",choices:"jurisdiction",format:"e.g. ill-app-ct",info:""}],courts:[{name:"slug",value:"",label:"Slug",format:"e.g. ill-app-ct",info:"A slug is a unique alphanumeric identifier which is more readable than a numeric ID."},{name:"name",value:"",label:"Name",format:'e.g. "Illinois Supreme Court"',info:"the official full court name"},{name:"name_abbreviation",value:"",format:'e.g. "Ill."',label:"Name Abbreviation",info:"the abbreviated court name"},{name:"jurisdiction",value:"",label:"Jurisdiction",choices:"jurisdiction",default:!0,info:"the court's jurisdiction"}],jurisdictions:[{name:"id",value:"",format:"e.g. 47",label:"Database ID",info:"A slug is a unique string that represents a database entry which is more readable than a numeric ID."},{name:"name",value:"",label:"Name",format:'e.g. "Ill."',info:"the short, official name of the jurisdiction"},{name:"name_long",value:"",label:"Long Name",format:'e.g. "Illinois"',default:!0,info:"the long, official name of the jurisdiction"},{name:"whitelisted",value:"",label:"Whitelisted Jurisdiction",choices:"whitelisted",info:"Whitelisted cases are not subject to the 500 case per day access limitation."}],reporters:[{name:"full_name",value:"",label:"Full Name",format:'e.g. "Illinois Appellate Court Reports"',info:"the full reporter name"},{name:"short_name",value:"",label:"Short Name",format:'e.g. "Ill. App."',info:"the short reporter name"},{name:"start_year",value:"",label:"Long Name",format:'e.g. "1893"',info:"the year in which the reporter began publishing"},{name:"end_year",value:"",label:"Long Name",format:'e.g. "1894"',info:"the year in which the reporter stopped publishing"},{name:"jurisdiction",value:"",label:"Jurisdiction",choices:"jurisdiction",default:!0,info:"the reporter's jurisdiction"}]};var l=new Vue({el:"#app",data:{title:"Browse or Search",hitcount:null,next_page_url:null,prev_page_url:null,page:0,results:[],api_url:search_url,endpoint:"cases",page_size:10,last_page:!0,first_page:!0,choices:{}},methods:{newSearch:function(e,t){this.endpoint=t,this.resetForm();var i=this.api_url+t+"/?";if(e.length>0){for(var l=e.length-1;l>=0;l--)l!==e.length-1&&(i+="&"),e[l]["value"]&&(i+=e[l]["name"]+"="+e[l]["value"]);i+="&page_size="+this.page_size}else i+="page_size="+this.page_size;this.first_page=!0,this.next_page_url=i,this.nextPage()},nextPage:function(){this.results[this.page+1]?(this.page++,this.pageCheck()):this.next_page_url&&this.getResultsPage(this.next_page_url).then(function(){l.pageCheck()})},prevPage:function(){this.page>0&&(this.page--,this.pageCheck())},getResultsPage:function(e){return this.startLoading(),fetch(e).then(function(e){if(e.ok)return e.json();500===e.status&&(document.getElementById("loading-overlay").style.display="none")}).then(function(e){l.hitcount=e.count,l.next_page_url=e.next,l.prev_page_url=e.previous,l.page=l.results.push(e.results)-1}).then(function(){l.stopLoading()})},resetForm:function(){this.title="Browse or Search",this.hitcount=null,this.next_page_url=null,this.prev_page_url=null,this.page=0,this.results=[],this.last_page=!0,this.first_page=!0},pageCheck:function(){null===this.prev_page_url||0===this.page?this.first_page=!0:this.first_page=!1,null===this.next_page_url&&this.page===this.results.length-1?this.last_page=!0:this.last_page=!1},startLoading:function(){document.getElementById("loading-overlay").style.display="block"},stopLoading:function(){document.getElementById("loading-overlay").style.display="none"},seeCases:function(e,t){fields=[{label:e,name:e,value:t}],this.newSearch(fields,"cases"),this.$refs.searchform.changeEndpoint("cases",fields)}},delimiters:["[[","]]"],template:"",components:{"search-form":{data:function(){return{query:[],newfield:null,endpoint:"cases",fields:[i["cases"][0]],endpoints:i}},template:'<form v-on:submit.prevent>                    <div class="row">                        <div class="col-12">                            <ul class="nav nav-tabs">                                <li class="search-tab" v-for="(current_fields, current_endpoint) in endpoints">                                    <a v-if="current_endpoint == endpoint" @click="changeEndpoint(current_endpoint)" class="nav-link active">{{ current_endpoint }}</a>                                    <a v-else="current_endpoint == endpoint" @click="changeEndpoint(current_endpoint)" class="nav-link">{{ current_endpoint }}</a>                                </li>                            </ul>                        </div>                    </div>                     <div id="searchform">                        <div v-for="field in fields">                            <div class="row field_row_container">                                <div class="col-4 field_label_container">                                    <label class="querylabel" :for="field[\'name\']">{{ field["label"] }}</label><br>                                </div>                                <div class="col-7 field_value_container">                                    <template v-if="field[\'choices\']">                                        <select v-model=\'field["value"]\' :id=\'field["name"]\'>                                            <option v-for="(label, value) in choiceLoader(field[\'choices\'])" :value="value">{{ label }}</option>                                         </select>                                    </template>                                    <template v-else-if="field[\'format\']">                                        <input v-model=\'field["value"]\' class="queryfield" :id=\'field["name"]\' type="text" :placeholder=\'field["format"]\'>                                    </template>                                    <template v-else>                                        <input v-model=\'field["value"]\' class="queryfield" :id=\'field["name"]\' type="text">                                    </template>                                </div>                                <div class="col-1">                                    <div class="remfield">                                        <button v-if="fields.length > 1" class="field-button" @click="removeField(field[\'name\'])">&ndash;</button>                                        <button v-if="fields.length <= 1" class="field-button disabled">&ndash;</button>                                    </div>                                </div>                            </div>                        </div>                    </div>                        <div class="row field_row_container">                            <div class="col-4 field_label_container">                            </div>                                <div class="col-7 field_value_container">                                    <template v-if="fields.length > 0">                                        <div class="dropdown addfield">                                            <button class="dropdown-toggle add-field-button btn-block" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Add Field</button>                                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">                                                <a class="dropdown-item" v-for="newfield in currentFields(endpoint)" @click="addField(newfield)" href="#">{{ newfield["label"] }}</a>                                            </div>                                        </div>                                    </template>                                </div>                            <div class="col-1">                                <div class="remfield">                                </div>                            </div>                        </div>                        <div class="search-button-row row">                            <div class="col-11 text-right">                                <template v-if="fields.length > 0">                                    <input @click="$emit(\'new-search\', fields, endpoint)" type="submit" value="Search">                                </template>                                <template v-else>                                    <input @click="$emit(\'new-search\', fields, endpoint)" type="submit" value="Browse All">                                </template>                            </div>                        </div>                    </form>                ',beforeMount(){for(endpoint in i)for(field in i[endpoint])"choices"in i[endpoint][field]&&this.choiceLoader(i[endpoint][field].choices)},methods:{changeEndpoint:function(e,t=[]){if(this.$parent.endpoint=e,this.endpoint=e,this.fields=t,this.$emit("change-endpoint"),0===t.length)for(var i=this.endpoints[e].length-1;i>=0;i--)this.endpoints[e][i]["default"]&&this.fields.push(this.endpoints[e][i])},removeField:function(e){for(var t=this.fields.length-1;t>=0;t--)this.fields[t]["name"]===e&&this.fields.splice(t,1)},addField:function(e){for(var t=this.fields.length-1;t>=0;t--)if(this.fields[t]["name"]===e["name"])return!1;this.fields.push(e)},choiceLoader:function(e){return component=null,l?component=l:"choices"in this.$parent&&(component=this.$parent),e in component.choices?component.choices[e]:"whitelisted"==e?{true:"Whitelisted",false:"Not Whitelisted"}:(component.startLoading(),fetch(choice_source[e]).then(function(e){if(e.ok)return e.json();500===e.status&&(document.getElementById("loading-overlay").style.display="none")}).then(function(t){component.choices[e]=t}).then(function(){component.stopLoading()}))},currentFields:function(e){for(field in return_list=[],i[e])this.fields.includes(i[e][field])||return_list.push(i[e][field]);return return_list}}},"result-list":{props:["results","endpoint","hitcount","page","first_page","last_page"],template:'<div>                <div class="hitcount" v-if="hitcount">Results: {{ hitcount }}</div>                <ul class="results-list">                    <case-result v-if="endpoint == \'cases\'" v-for="result in results[page]" :result="result" :key="result.id"></case-result>                    <court-result v-if="endpoint == \'courts\'" v-for="result in results[page]" :result="result" :key="result.id"></court-result>                    <jurisdiction-result v-if="endpoint == \'jurisdictions\'" v-for="result in results[page]" :result="result" :key="result.id"></jurisdiction-result>                    <reporter-result v-if="endpoint == \'reporters\'" v-for="result in results[page]" :result="result" :key="result.id"></reporter-result>                </ul>                <div v-if="this.$parent.results.length != 0" class="row">                    <div class="col-6">                        <button class="btn btn-sm" v-if="first_page !== true" @click="$emit(\'prev-page\')">&lt;&lt; Prev Page {{ page }} </button>                        <button class="btn btn-sm disabled" v-else disabled>&lt;&lt; Prev Page</button>                    </div>                    <div class="col-6 text-right">                        <button class="btn btn-sm" v-if="last_page !== true" @click="$emit(\'next-page\')">Next Page {{ page + 2 }}&gt;&gt;</button>                        <button class="btn btn-sm disabled" v-else disabled>Next Page &gt;&gt;</button>                    </div>                </div>            </div>',methods:{case_view_url:function(e){return case_view_url_template.replace("987654321",e)},metadata_view_url:function(e,t){return case_view_url_template.replace("987654321",t).replace("/case/","/"+e+"/")}},components:{"case-result":{props:["result"],template:'                <li class="result">                    <div class="result-title row">                        <div class="row">                            <a target="_blank" v-text="result.name_abbreviation" :href="$parent.case_view_url(result.id)"></a>                        </div>                    </div>                    <div class="result-data">                        <div class="row">                            <div class = "col-12">                                <ul class="citation-list">                                    <li class="citation-entry" v-for="citation in result.citations">                                        <span class="result-citation-type">{{  citation.type  }}</span>                                        <span class="result-citation">{{ citation.cite }} </span>                                    </li>                                </ul>                            </div>                        </div>                        <div class="row">                            <div class="col-3">{{ result.decision_date }}</div>                            <div class="col-4" v-if="result.court" >{{ result.court.name }}, volume {{ result.jurisdiction.volume_number }}</div>                        </div>                        <div class="row">                            <div v-text="result.name" class="full-name col-12"></div>                        </div>                    </div>                </li>'},"court-result":{props:["result"],template:'                        <li class="result">                            <div class="result-title row">                                <div class="row">                                    <div class="result-title col-12">                                        <a target="_blank" v-text="result.name_abbreviation" :href="$parent.metadata_view_url(\'court\', result.id)"></a>                                    </div>                                </div>                            </div>                            <div class="result-data">                                <div class="row">                                    <div class="col-6">                                        <span class="result-data-label">Abbreviation:</span> {{ result.name_abbreviation }}                                    </div>                                    <div class = "col-3">                                        <span class="result-data-label">Jurisdiction:</span> {{ result.jurisdiction }}                                    </div>                                    <div class="col-3 text-right">                                         <button @click="$parent.$emit(\'see-cases\', \'court\', result.slug)">Cases</button>                                     </div>                                </div>                            </div>                        </li>'},"jurisdiction-result":{props:["result"],template:'                        <li class="result">                            <div class="result-title row">                                <div class="row">                                    <div class="result-title col-12">                                        <a target="_blank" v-text="result.name_long" :href="$parent.metadata_view_url(\'jurisdiction\', result.id)"></a>                                    </div>                                </div>                            </div>                            <div class="result-data">                                <div class="row">                                    <div class="col-6">                                        <span class="result-data-label">Abbreviation:</span> {{ result.name }}                                    </div>                                    <div class = "col-4">                                        <span class="result-data-label">Slug:</span> {{ result.slug }}                                    </div>                                    <div class="col-2 text-right">                                         <button @click="$parent.$emit(\'see-cases\', \'jurisdiction\', result.slug)">Cases</button>                                     </div>                                </div>                            </div>                        </li>'},"reporter-result":{props:["result"],template:'                        <li class="result">                            <div class="result-title row">                                <div class="row">                                    <div class="result-title col-12">                                        <a target="_blank" v-text="result.full_name" :href="$parent.metadata_view_url(\'reporter\', result.id)"></a>                                    </div>                                </div>                            </div>                            <div class="result-data">                                <div class="row">                                    <div class="col-9">                                        <span class="result-data-label">Abbreviation:</span> {{ result.short_name }}                                    </div>                                    <div class="col-3 text-right">                                         <button @click="$parent.$emit(\'see-cases\', \'reporter\', result.id)">Cases</button>                                     </div>                                </div>                            </div>                        </li>'}}}}})}});
//# sourceMappingURL=search.js.map