(function(t){function e(e){for(var a,l,r=e[0],o=e[1],u=e[2],d=0,f=[];d<r.length;d++)l=r[d],i[l]&&f.push(i[l][0]),i[l]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);c&&c(e);while(f.length)f.shift()();return n.push.apply(n,u||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,r=1;r<s.length;r++){var o=s[r];0!==i[o]&&(a=!1)}a&&(n.splice(e--,1),t=l(l.s=s[0]))}return t}var a={},i={search:0},n=[];function l(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=t,l.c=a,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(s,a,function(e){return t[e]}.bind(null,a));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/static/dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var c=o;n.push([4,"chunk-vendors"]),s()})({"0629":function(t,e,s){"use strict";var a=s("a93b"),i=s.n(a);e["default"]=i.a},"0838":function(t,e,s){"use strict";var a=s("3891"),i=s("856f"),n=s("2877"),l=Object(n["a"])(i["default"],a["a"],a["b"],!1,null,null,null);l.options.__file="jurisdiction-result.vue",e["default"]=l.exports},"1cd0":function(t,e,s){"use strict";var a=s("8130"),i=s.n(a);e["default"]=i.a},"2f77":function(t,e,s){"use strict";var a=s("7693"),i=s("0629"),n=s("2877"),l=Object(n["a"])(i["default"],a["a"],a["b"],!1,null,null,null);l.options.__file="reporter-result.vue",e["default"]=l.exports},"31b0":function(t,e,s){"use strict";var a=s("8732"),i=s("1cd0"),n=s("2877"),l=Object(n["a"])(i["default"],a["a"],a["b"],!1,null,null,null);l.options.__file="court-result.vue",e["default"]=l.exports},3891:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"result"},[s("div",{staticClass:"result-title row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"result-title col-12"},[s("a",{attrs:{target:"_blank",href:t.$parent.metadata_view_url("jurisdiction",t.result.id)},domProps:{textContent:t._s(t.result.name_long)}})])])]),s("div",{staticClass:"result-data"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("span",{staticClass:"result-data-label"},[t._v("Abbreviation:")]),t._v(" "+t._s(t.result.name)+"\n      ")]),s("div",{staticClass:"col-4"},[s("span",{staticClass:"result-data-label"},[t._v("Slug:")]),t._v(" "+t._s(t.result.slug)+"\n      ")]),s("div",{staticClass:"col-2 text-right"},[s("button",{on:{click:function(e){t.$parent.$emit("see-cases","jurisdiction",t.result.slug)}}},[t._v("Cases")])])])])])},i=[];s.d(e,"a",function(){return a}),s.d(e,"b",function(){return i})},4:function(t,e,s){t.exports=s("98d8")},6104:function(t,e,s){"use strict";var a=s("f9e4"),i=s("bfd2"),n=s("2877"),l=Object(n["a"])(i["default"],a["a"],a["b"],!1,null,null,null);l.options.__file="case-result.vue",e["default"]=l.exports},7693:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"result"},[s("div",{staticClass:"result-title row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"result-title col-12"},[s("a",{attrs:{target:"_blank",href:t.$parent.metadata_view_url("reporter",t.result.id)},domProps:{textContent:t._s(t.result.full_name)}})])])]),s("div",{staticClass:"result-data"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-9"},[s("span",{staticClass:"result-data-label"},[t._v("Abbreviation:")]),t._v(" "+t._s(t.result.short_name)+"\n      ")]),s("div",{staticClass:"col-3 text-right"},[s("button",{on:{click:function(e){t.$parent.$emit("see-cases","reporter",t.result.id)}}},[t._v("Cases")])])])])])},i=[];s.d(e,"a",function(){return a}),s.d(e,"b",function(){return i})},8130:function(t,e){t.exports={props:["result"]}},"856f":function(t,e,s){"use strict";var a=s("ff6d"),i=s.n(a);e["default"]=i.a},8732:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"result"},[s("div",{staticClass:"result-title row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"result-title col-12"},[s("a",{attrs:{target:"_blank",href:t.$parent.metadata_view_url("court",t.result.id)},domProps:{textContent:t._s(t.result.name_abbreviation)}})])])]),s("div",{staticClass:"result-data"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("span",{staticClass:"result-data-label"},[t._v("Abbreviation:")]),t._v(" "+t._s(t.result.name_abbreviation)+"\n      ")]),s("div",{staticClass:"col-3"},[s("span",{staticClass:"result-data-label"},[t._v("Jurisdiction:")]),t._v(" "+t._s(t.result.jurisdiction)+"\n      ")]),s("div",{staticClass:"col-3 text-right"},[s("button",{on:{click:function(e){t.$parent.$emit("see-cases","court",t.result.slug)}}},[t._v("Cases")])])])])])},i=[];s.d(e,"a",function(){return a}),s.d(e,"b",function(){return i})},9765:function(t,e){t.exports={props:["result"]}},"98d8":function(t,e,s){"use strict";s.r(e);var a=s("a026"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("search-form",{ref:"searchform",attrs:{choices:t.choices},on:{"change-endpoint":t.resetForm,"new-search":t.newSearch}}),s("result-list",{attrs:{last_page:t.last_page,first_page:t.first_page,page:t.page,results:t.results,endpoint:t.endpoint,hitcount:t.hitcount,case_view_url_template:t.case_view_url_template},on:{"see-cases":t.seeCases,"next-page":t.nextPage,"prev-page":t.prevPage}})],1)},n=[],l=(s("7f7f"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("ul",{staticClass:"nav nav-tabs"},t._l(t.endpoints,function(e,a){return s("li",{key:a,staticClass:"search-tab"},[a==t.endpoint?s("a",{staticClass:"nav-link active",on:{click:function(e){t.changeEndpoint(a)}}},[t._v(t._s(a))]):s("a",{staticClass:"nav-link",on:{click:function(e){t.changeEndpoint(a)}}},[t._v(t._s(a))])])}))])]),s("div",{attrs:{id:"searchform"}},t._l(t.fields,function(e){return s("div",{key:e["name"]},[s("div",{staticClass:"row field_row_container"},[s("div",{staticClass:"col-4 field_label_container"},[s("label",{staticClass:"querylabel",attrs:{for:e["name"]}},[t._v(t._s(e["label"]))]),s("br")]),s("div",{staticClass:"col-7 field_value_container"},[e["choices"]?[s("select",{directives:[{name:"model",rawName:"v-model",value:e["value"],expression:'field["value"]'}],attrs:{id:e["name"]},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(e,"value",s.target.multiple?a:a[0])}}},t._l(t.choices[e["choices"]],function(e,a){return s("option",{key:e,domProps:{value:a}},[t._v(t._s(e)+"\n              ")])}))]:e["format"]?[s("input",{directives:[{name:"model",rawName:"v-model",value:e["value"],expression:'field["value"]'}],staticClass:"queryfield",attrs:{id:e["name"],type:"text",placeholder:e["format"]},domProps:{value:e["value"]},on:{input:function(s){s.target.composing||t.$set(e,"value",s.target.value)}}})]:[s("input",{directives:[{name:"model",rawName:"v-model",value:e["value"],expression:'field["value"]'}],staticClass:"queryfield",attrs:{id:e["name"],type:"text"},domProps:{value:e["value"]},on:{input:function(s){s.target.composing||t.$set(e,"value",s.target.value)}}}),t._v("\\\n          ")]],2),s("div",{staticClass:"col-1"},[s("div",{staticClass:"remfield"},[t.fields.length>1?s("button",{staticClass:"field-button",on:{click:function(s){t.removeField(e["name"])}}},[t._v("\n              –\n            ")]):t._e(),t.fields.length<=1?s("button",{staticClass:"field-button disabled"},[t._v("–")]):t._e()])])])])})),s("div",{staticClass:"row field_row_container"},[s("div",{staticClass:"col-4 field_label_container"}),s("div",{staticClass:"col-7 field_value_container"},[t.fields.length>0?[s("div",{staticClass:"dropdown addfield"},[s("button",{staticClass:"dropdown-toggle add-field-button btn-block",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Add Field\n          ")]),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.currentFields(t.endpoint),function(e){return s("a",{key:e["label"],staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(s){t.addField(e)}}},[t._v(t._s(e["label"]))])}))])]:t._e()],2),t._m(0)]),s("div",{staticClass:"search-button-row row"},[s("div",{staticClass:"col-11 text-right"},[s("input",{attrs:{type:"submit",value:"Search"},on:{click:function(e){t.$emit("new-search",t.fields,t.endpoint)}}})])])])}),r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-1"},[s("div",{staticClass:"remfield"})])}],o=(s("ac6a"),s("6762"),s("2fdb"),s("28a5"),{data:function(){return{query:[],newfield:null,endpoint:"cases",fields:[{name:"search",value:"",label:"Full-Text Search",default:!0,format:"e.g. 'insurance' illinois",info:""}],endpoints:{cases:[{name:"search",value:"",label:"Full-Text Search",default:!0,format:"e.g. 'insurance' illinois",info:""},{name:"name_abbreviation",label:"Case Name Abbreviation",value:"",format:"e.g. Taylor v. Sprinkle",info:"the abbreviated case name"},{name:"decision_date_min",label:"Decision Date Earliest",format:"YYYY-MM-DD",info:"the earliest date on which your results could have been decided"},{name:"decision_date_max",value:"",label:"Decision Date Latest",format:"YYYY-MM-DD",info:"the latest date on which your results could have been decided"},{name:"docket_number",value:"",label:"Docket Number",format:"e.g. Civ. No. 74-289",info:"the docket number assigned by the court"},{name:"citation",value:"",label:"Citation",format:"e.g. 1 Ill. 17",info:"the case citation"},{name:"reporter",value:"",label:"Reporter",choices:"reporter",info:""},{name:"court",value:"",label:"Court",choices:"court",format:"e.g. ill-app-ct",info:""},{name:"jurisdiction",value:"",label:"Jurisdiction",choices:"jurisdiction",info:""}],courts:[{name:"slug",value:"",label:"Slug",format:"e.g. ill-app-ct",info:"A slug is a unique alphanumeric identifier which is more readable than a numeric ID."},{name:"name",value:"",label:"Name",format:"e.g. 'Illinois Supreme Court'",info:"the official full court name"},{name:"name_abbreviation",value:"",format:"e.g. 'Ill.'",label:"Name Abbreviation",info:"the abbreviated court name"},{name:"jurisdiction",value:"",label:"Jurisdiction",choices:"jurisdiction",default:!0,info:"the court's jurisdiction"}],jurisdictions:[{name:"id",value:"",format:"e.g. 47",label:"Database ID",info:"A slug is a unique string that represents a database entry which is more readable than a numeric ID."},{name:"name",value:"",label:"Name",format:"e.g. 'Ill.'",info:"the short, official name of the jurisdiction"},{name:"name_long",value:"",label:"Long Name",format:"e.g. 'Illinois'",default:!0,info:"the long, official name of the jurisdiction"},{name:"whitelisted",value:"",label:"Whitelisted Jurisdiction",choices:"whitelisted",info:"Whitelisted cases are not subject to the 500 case per day access limitation."}],reporters:[{name:"full_name",value:"",label:"Full Name",format:"e.g. 'Illinois Appellate Court Reports'",info:"the full reporter name"},{name:"short_name",value:"",label:"Short Name",format:"e.g. 'Ill. App.'",info:"the short reporter name"},{name:"start_year",value:"",label:"Start Year",format:"e.g. '1893'",info:"the year in which the reporter began publishing"},{name:"end_year",value:"",label:"End Year",format:"e.g. '1894'",info:"the year in which the reporter stopped publishing"},{name:"jurisdiction",value:"",label:"Jurisdiction",choices:"jurisdiction",default:!0,info:"the reporter's jurisdiction"}]}}},props:["choices"],beforeMount:function(){if(window.location.hash){var t=window.location.hash.substr(1);if(!hasOwnProperty.call(this.endpoints,t.split("filters")[0].split("/")[0]))return;var e=t.split("filters")[0].split("/")[0];this.changeEndpoint(e,this.fields),this.cursor=decodeURIComponent(t.split("filters")[0].split("/")[1]),this.page=decodeURIComponent(t.split("filters")[0].split("/")[2])}},mounted:function(){if(window.location.hash){var t=window.location.hash.substr(1);if(t.split("filters")[1].includes(":")){this.fields=[],this.removeField(this.fields[0]);var e=t.split("filters")[1].split("/"),s=this;e.forEach(function(t){if(t.includes(":")){var e=t.split(":")[0],a=t.split(":")[1],i=s.getFieldEntry(e,s.endpoint);i&&(i["value"]=a,s.addField(i))}})}}},methods:{changeEndpoint:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this.$parent.endpoint=t,this.endpoint=t,this.fields=e,this.$emit("change-endpoint"),0===e.length)for(var s=this.endpoints[t].length-1;s>=0;s--)this.endpoints[t][s]["default"]&&this.fields.push(this.endpoints[t][s])},removeField:function(t){for(var e=this.fields.length-1;e>=0;e--)this.fields[e]["name"]===t&&this.fields.splice(e,1)},addField:function(t){for(var e=this.fields.length-1;e>=0;e--)if(this.fields[e]["name"]===t["name"])return!1;this.fields.push(t)},getFieldEntry:function(t,e){for(var s=this.endpoints[e].length-1;s>=0;s--)if(this.endpoints[e][s]["name"]===t)return this.endpoints[e][s]},currentFields:function(t){var e=[];for(var s in this.endpoints[t])this.fields.includes(this.endpoints[t][s])||e.push(this.endpoints[t][s]);return e}}}),u=o,c=s("2877"),d=Object(c["a"])(u,l,r,!1,null,null,null);d.options.__file="search-form.vue";var f=d.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.hitcount?s("div",{staticClass:"hitcount"},[t._v("Results: "+t._s(t.hitcount))]):t._e(),s("ul",{staticClass:"results-list"},["cases"==t.endpoint?s("div",t._l(t.results[t.page],function(t){return s("case-result",{key:t.id,attrs:{result:t}})})):t._e(),"courts"==t.endpoint?s("div",t._l(t.results[t.page],function(t){return s("court-result",{key:t.id,attrs:{result:t}})})):t._e(),"jurisdictions"==t.endpoint?s("div",t._l(t.results[t.page],function(t){return s("jurisdiction-result",{key:t.id,attrs:{result:t}})})):t._e(),"reporters"==t.endpoint?s("div",t._l(t.results[t.page],function(t){return s("reporter-result",{key:t.id,attrs:{result:t}})})):t._e()]),0!=this.$parent.results.length?s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[!0!==t.first_page?s("button",{staticClass:"btn btn-sm",on:{click:function(e){t.$emit("prev-page")}}},[t._v("<< Prev Page "+t._s(t.page)+"\n      ")]):s("button",{staticClass:"btn btn-sm disabled",attrs:{disabled:""}},[t._v("<< Prev Page")])]),s("div",{staticClass:"col-6 text-right"},[!0!==t.last_page?s("button",{staticClass:"btn btn-sm",on:{click:function(e){t.$emit("next-page")}}},[t._v("Next Page "+t._s(t.page+2)+">>")]):s("button",{staticClass:"btn btn-sm disabled",attrs:{disabled:""}},[t._v("Next Page >>")])])]):t._e()])},v=[],h=(s("a481"),s("2f77")),_=s("6104"),m=s("31b0"),g=s("0838"),b={props:["results","endpoint","hitcount","page","first_page","last_page","case_view_url_template"],components:{"reporter-result":h["default"],"case-result":_["default"],"court-result":m["default"],"jurisdiction-result":g["default"]},methods:{case_view_url:function(t){return this.case_view_url_template.replace("987654321",t)},metadata_view_url:function(t,e){return this.case_view_url_template.replace("987654321",e).replace("/case/","/"+t+"/")}}},C=b,w=Object(c["a"])(C,p,v,!1,null,null,null);w.options.__file="result-list.vue";var y=w.exports,x={beforeMount:function(){this.case_view_url_template=case_view_url_template,this.search_url=search_url,this.choices=choices},components:{"search-form":f,"result-list":y},data:function(){return{title:"Search",hitcount:null,next_page_url:null,prev_page_url:null,page:0,results:[],endpoint:"cases",page_size:10,last_page:!0,first_page:!0,choices:{},case_view_url_template:null,search_url:null,cursor:null}},methods:{newSearch:function(t,e){this.endpoint=e,this.resetForm();var s=this.search_url+e+"/?";if(t.length>0){for(var a=t.length-1;a>=0;a--)a!==t.length-1&&(s+="&"),t[a]["value"]&&(s+=t[a]["name"]+"="+t[a]["value"]);s+="&page_size="+this.page_size}else s+="page_size="+this.page_size;this.first_page=!0,this.next_page_url=s,this.nextPage()},nextPage:function(){var t=this;this.results[this.page+1]?(this.page++,this.pageCheck()):this.next_page_url&&this.getResultsPage(this.next_page_url).then(function(){t.pageCheck()})},prevPage:function(){this.page>0&&(this.page--,this.pageCheck())},getResultsPage:function(t){var e=this;return this.startLoading(),fetch(t).then(function(t){if(t.ok)return t.json();500===t.status&&(document.getElementById("loading-overlay").style.display="none")}).then(function(t){e.hitcount=t.count,e.next_page_url=t.next,e.prev_page_url=t.previous,e.page=e.results.push(t.results)-1}).then(function(){e.stopLoading()})},resetForm:function(){this.title="Search",this.hitcount=null,this.next_page_url=null,this.prev_page_url=null,this.page=0,this.results=[],this.last_page=!0,this.first_page=!0},pageCheck:function(){null===this.prev_page_url||0===this.page?this.first_page=!0:this.first_page=!1,null===this.next_page_url&&this.page===this.results.length-1?this.last_page=!0:this.last_page=!1},startLoading:function(){document.getElementById("loading-overlay").style.display="block"},stopLoading:function(){document.getElementById("loading-overlay").style.display="none"},seeCases:function(t,e){var s=[{label:t,name:t,value:e}];this.newSearch(s,"cases"),this.$refs.searchform.changeEndpoint("cases",s)}},delimiters:["[[","]]"],template:""},k=x,j=Object(c["a"])(k,i,n,!1,null,null,null);j.options.__file="main.vue";var P=j.exports;a["a"].config.productionTip=!1,new a["a"]({el:"#app",components:{Main:P},template:"<Main/>"})},a93b:function(t,e){t.exports={props:["result"]}},bfd2:function(t,e,s){"use strict";var a=s("9765"),i=s.n(a);e["default"]=i.a},f9e4:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"result"},[s("div",{staticClass:"result-title row"},[s("div",{staticClass:"row"},[s("a",{attrs:{target:"_blank",href:t.$parent.case_view_url(t.result.id)},domProps:{textContent:t._s(t.result.name_abbreviation)}})])]),s("div",{staticClass:"result-data"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("ul",{staticClass:"citation-list"},t._l(t.result.citations,function(e){return s("li",{key:e.cite,staticClass:"citation-entry"},[s("span",{staticClass:"result-citation-type"},[t._v(t._s(e.type))]),s("span",{staticClass:"result-citation"},[t._v(t._s(e.cite)+" ")])])}))])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[t._v(t._s(t.result.decision_date))]),t.result.court?s("div",{staticClass:"col-4"},[t._v(t._s(t.result.court.name)+", volume "+t._s(t.result.jurisdiction.volume_number)+"\n      ")]):t._e()]),s("div",{staticClass:"row"},[s("div",{staticClass:"full-name col-12",domProps:{textContent:t._s(t.result.name)}})])])])},i=[];s.d(e,"a",function(){return a}),s.d(e,"b",function(){return i})},ff6d:function(t,e){t.exports={props:["result"]}}});
//# sourceMappingURL=search.js.map