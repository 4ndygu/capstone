{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./static/js/case-editor/main.vue?c023","webpack:///./static/js/case-editor/page.vue?6bd4","webpack:///./static/js/case-editor/helpers.js","webpack:///static/js/case-editor/page.vue","webpack:///./static/js/case-editor/page.vue?a693","webpack:///./static/js/case-editor/page.vue","webpack:///static/js/case-editor/main.vue","webpack:///./static/js/case-editor/main.vue?caea","webpack:///./static/js/case-editor/main.vue","webpack:///./static/js/case-editor/main.js","webpack:///./static/js/case-editor/page.vue?e130"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","case-editor","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","rawName","expression","attrs","type","id","domProps","checked","Array","isArray","showOcr","_i","on","change","$event","$$a","$$el","target","$$c","$$v","$$i","concat","for","_v","showConfidence","style","background-image","currentPage","page","background-size","width","currentWord","height","background-position","ref","input","composing","$set","_s","word_confidence","click","addSoftHyphen","_e","metadata","placeholder","saveCase","_l","refInFor","savedWordEdits","staticRenderFns","pagevue_type_template_id_0ae31a18_scoped_true_render","class","show-ocr","$parent","src","image_url","scale","word","wordClass","wordStyle","wordClicked","string","pagevue_type_template_id_0ae31a18_scoped_true_staticRenderFns","SOFT_HYPHEN","FAKE_SOFT_HYPHEN","pagevue_type_script_lang_js_","props","words","computed","fontScale","watch","handler","saveStateToStorage","deep","beforeMount","_this","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_loop","block","tokens","fontId","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","entries","iterator","next","done","_step2$value","slicedToArray","token","_token","tag","rect","blockId","wordConfidence","wc","font","fonts","strings","x","y","w","h","wordIndex","originalString","map","join","replace","lineHeight","getFontLineHeight","yOffset","Math","min","toConsumableArray","split","getCharAscent","index","err","return","_iterator","blocks","mounted","document","getElementById","offsetWidth","methods","left","top","background-color","wordConfidenceColor","styles","size","family","current-word","edited","_this2","$nextTick","$refs","focus","alpha","red","case_editor_pagevue_type_script_lang_js_","component","componentNormalizer","mainvue_type_script_lang_js_","components","Page","urls","templateVars","serverMetadata","objectSpread","pages","_Object$keys","keys","processFont","charAscentCache","storageKey","savedStateJson","localStorage","getItem","savedState","JSON","parse","edit_list","_i2","_Object$entries","_Object$entries$_i","k","_Object$entries$_i$","oldVal","newVal","e","console","log","removeItem","getMetadataEdits","_i3","_Object$entries2","_Object$entries2$_i","v","serverVal","getTokenEdits","wordIndexed","arguments","editList","pageComponents","pageComponent","pageId","newString","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_step3$value","getState","lodash_debounce_default","setItem","stringify","_saveCase","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","jquery_default","a","ajax","contentType","promise","t0","abrupt","location","href","case","stop","canvas","createElement","ctx","getContext","measureText","actualBoundingBoxAscent","execCommand","includes","parseFloat","case_editor_mainvue_type_script_lang_js_","main_component","main","Vue","config","devtools","productionTip","el","Main","template","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_page_vue_vue_type_style_index_0_id_0ae31a18_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_page_vue_vue_type_style_index_0_id_0ae31a18_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/case-editor.d5936c5a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"case-editor\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([10,\"chunk-common\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row grid-container\"},[_c('div',{staticClass:\"col-3 controls grid-item\"},[_c('div',{staticClass:\"sticky-top pt-5\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showOcr),expression:\"showOcr\"}],attrs:{\"type\":\"checkbox\",\"id\":\"show_ocr\"},domProps:{\"checked\":Array.isArray(_vm.showOcr)?_vm._i(_vm.showOcr,null)>-1:(_vm.showOcr)},on:{\"change\":function($event){var $$a=_vm.showOcr,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showOcr=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showOcr=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showOcr=$$c}}}}),_c('label',{attrs:{\"for\":\"show_ocr\"}},[_vm._v(\"OCR text\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showConfidence),expression:\"showConfidence\"}],attrs:{\"type\":\"checkbox\",\"id\":\"see_wc\"},domProps:{\"checked\":Array.isArray(_vm.showConfidence)?_vm._i(_vm.showConfidence,null)>-1:(_vm.showConfidence)},on:{\"change\":function($event){var $$a=_vm.showConfidence,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showConfidence=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showConfidence=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showConfidence=$$c}}}}),_c('label',{attrs:{\"for\":\"see_wc\"}},[_vm._v(\"Word confidence\")]),(_vm.currentWord)?_c('div',[_c('div',{style:({\n            'background-image':(\"url(\" + (_vm.currentPage.page.image_url) + \")\"),\n            'background-size': ((_vm.currentPage.page.width) + \"px\"),\n            width: ((_vm.currentWord.w) + \"px\"),\n            height: ((_vm.currentWord.h) + \"px\"),\n            'background-position': (\"-\" + (_vm.currentWord.x) + \"px -\" + (_vm.currentWord.y) + \"px\"),\n          })}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentWord.string),expression:\"currentWord.string\"}],ref:\"currentWord\",attrs:{\"type\":\"text\",\"id\":\"current_word\"},domProps:{\"value\":(_vm.currentWord.string)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.currentWord, \"string\", $event.target.value)}}}),_c('small',[_c('small',[_vm._v(\"\\n          (confidence: \"),_c('span',{attrs:{\"id\":\"current_word_confidence\"}},[_vm._v(_vm._s(_vm.currentWord.word_confidence))]),_vm._v(\")\\n        \")])]),_c('button',{on:{\"click\":function($event){return _vm.addSoftHyphen()}}},[_vm._v(\"Add Soft Hyphen(⧟)\")])]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.metadata.name),expression:\"metadata.name\"}],attrs:{\"type\":\"text\",\"placeholder\":\"case name\"},domProps:{\"value\":(_vm.metadata.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.metadata, \"name\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.metadata.docket_number),expression:\"metadata.docket_number\"}],attrs:{\"type\":\"text\",\"placeholder\":\"docket number\"},domProps:{\"value\":(_vm.metadata.docket_number)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.metadata, \"docket_number\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.metadata.decision_date_original),expression:\"metadata.decision_date_original\"}],attrs:{\"type\":\"text\",\"placeholder\":\"decision date string\"},domProps:{\"value\":(_vm.metadata.decision_date_original)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.metadata, \"decision_date_original\", $event.target.value)}}}),_c('button',{staticClass:\"danger\",on:{\"click\":_vm.saveCase}},[_vm._v(\"Save Case To Database\")]),_c('div',[_vm._v(\"\\n        All changes are saved locally in your browser until you are ready to commit a batch of changes to the\\n        database.\\n      \")])])]),_c('div',{staticClass:\"col-9 grid-item\",attrs:{\"id\":\"canvas_div\"}},_vm._l((_vm.pages),function(page){return _c('page',{key:page.id,ref:\"pageComponents\",refInFor:true,attrs:{\"page\":page,\"savedWordEdits\":_vm.savedWordEdits[page.id]}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{page: true, 'show-ocr': _vm.$parent.showOcr}},[_c('img',{attrs:{\"src\":_vm.page.image_url,\"width\":_vm.page.width * _vm.scale,\"height\":_vm.page.height * _vm.scale}}),_vm._l((_vm.words),function(word){return _c('span',{class:_vm.wordClass(word),style:(_vm.wordStyle(word)),on:{\"click\":function($event){return _vm.wordClicked(word)}}},[_vm._v(\"\\n    \"+_vm._s(word.string)+\"\\n  \")])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const SOFT_HYPHEN = '\\xad';\nexport const FAKE_SOFT_HYPHEN = \"⧟\";\n","<template>\n  <div :class=\"{page: true, 'show-ocr': $parent.showOcr}\">\n    <img :src=\"page.image_url\" :width=\"page.width * scale\" :height=\"page.height * scale\">\n    <span v-for=\"word in words\" :style=\"wordStyle(word)\" @click=\"wordClicked(word)\" :class=\"wordClass(word)\">\n      {{word.string}}\n    </span>\n  </div>\n</template>\n\n<script>\n  import {FAKE_SOFT_HYPHEN, SOFT_HYPHEN} from \"./helpers\";\n\n  export default {\n    props: ['page', 'savedWordEdits'],\n    data() {\n      return {\n        scale: 1,\n        words: [],\n      }\n    },\n    computed: {\n      fontScale() {\n        /*\n          Conversion factor for font pts on scanned page to pixels.\n          For example, a font detected as \"12pt\" in our 300DPI scan was actually 12/72 * 300 == 50px high.\n        */\n        return this.scale * 300/72;\n      },\n    },\n    watch: {\n      words: {\n        handler() {\n          this.$parent.saveStateToStorage();\n        },\n        deep: true\n      },\n    },\n    beforeMount() {\n      /*\n        Extract a list of words from the token stream in this.page.blocks, and store the words in this.words.\n\n        word objects look like this: {\n          blockId,\n          wordConfidence, font,  // display metadata\n          x, y, w, h,  // location\n          lineHeight, yOffset,  // calculated OCR alignment values\n          strings: [{index, value}],  // list of the original token stream strings composing this word\n          originalString,  // merged strings, before any edits\n          string,  // merged strings, including any edits\n        }\n\n        To save changes later, we'll update `blocks[blockId].tokens[index]` to `string`, and empty any additional `strings`.\n       */\n      const words = [];\n      for (const block of this.page.blocks) {\n        if (!block.tokens)\n          continue;\n        let word = null;\n        let fontId = -1;\n        const savedWordEdits = this.savedWordEdits && this.savedWordEdits[block.id] ? this.savedWordEdits[block.id] : {};\n        for (const [i, token] of block.tokens.entries()) {\n          if (typeof token === 'string') {\n            if (word)\n              word.strings.push({index: i, value: token});\n            continue;\n          }\n          const [tag, attrs] = token;\n          if(tag === 'ocr') {\n            const rect = attrs.rect;\n            word = {\n              blockId: block.id,\n              wordConfidence: attrs.wc,\n              font: this.$parent.fonts[fontId],\n              strings: [],\n              x: rect[0],\n              y: rect[1],\n              w: rect[2],\n              h: rect[3],\n            };\n          } else if(tag === '/ocr') {\n            if (!word)\n              continue;  // tag closed before opened -- shouldn't happen\n            if (word.strings.length) {\n              // apply saved edits, if any\n              const wordIndex = words.length;\n              word.originalString = word.strings.map(s=>s.value).join(\"\").replace(SOFT_HYPHEN, FAKE_SOFT_HYPHEN);\n              if (wordIndex in savedWordEdits && savedWordEdits[wordIndex][0] === word.originalString)\n                word.string = savedWordEdits[wordIndex][1];\n              else\n                word.string = word.originalString;\n\n              // for OCR alignment, calculate line height based on font, and apply a y offset based on the tallest\n              // character in the word\n              word.lineHeight = this.$parent.getFontLineHeight(fontId);\n              word.yOffset = Math.min(...word.string.split('').map(c => word.lineHeight - this.$parent.getCharAscent(c, fontId)));\n\n              words.push(word);\n            }\n            word = null;\n          } else if(tag === 'font') {\n            fontId = attrs.id;\n          } else if(tag === '/font') {\n            fontId = -1;\n          }\n        }\n      }\n      this.words = words;\n    },\n    mounted() {\n      this.scale = document.getElementById('canvas_div').offsetWidth / this.page.width;\n    },\n    methods: {\n      wordStyle(word) {\n        const font = word.font;\n        return {\n          left: `${word.x * this.scale}px`,\n          top: `${word.y * this.scale - word.yOffset * this.fontScale - 1}px`,  // -1 for top border\n          'background-color': this.$parent.showConfidence ? this.wordConfidenceColor(word) : 'unset',\n          // font format is \"<styles> <font size>/<line height> <font families>\":\n          font: `${font.styles} ${font.size * this.fontScale}px/${word.lineHeight * this.fontScale}px ${font.family}`,\n        };\n      },\n      wordClass(word) {\n        return {\n          'current-word': this.$parent.currentWord === word,\n          'edited': word.string !== word.originalString,\n        };\n      },\n      wordClicked(word) {\n        this.$parent.currentWord = word;\n        this.$parent.currentPage = this;\n        this.$nextTick(() => {\n          this.$parent.$refs.currentWord.focus();\n        });\n      },\n      wordConfidenceColor(word) {\n        const alpha = (.6 - word.wordConfidence)*100;\n        const red = 255 * word.wordConfidence + 127;\n        return `rgba(${red}, 0, 0, ${alpha}%)`;\n      },\n    },\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .page {\n    position: relative;\n  }\n  .page.show-ocr {\n    img {\n      opacity: 0.2;\n    }\n    span {\n      color: unset;\n    }\n  }\n  span {\n    border: 1px transparent solid;\n    line-height: 1;\n    color: transparent;\n    position: absolute;\n  }\n  .current-word {\n    border: 1px green solid;\n  }\n  .edited {\n    border: 1px orange solid;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=0ae31a18&scoped=true&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./page.vue?vue&type=style&index=0&id=0ae31a18&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ae31a18\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"row grid-container\">\n    <div class=\"col-3 controls grid-item\">\n      <div class=\"sticky-top pt-5\">\n        <input type=\"checkbox\" v-model=\"showOcr\" id=\"show_ocr\">\n        <label for=\"show_ocr\">OCR text</label>\n        <br>\n        <input type=\"checkbox\" v-model=\"showConfidence\" id=\"see_wc\">\n        <label for=\"see_wc\">Word confidence</label>\n        <div v-if=\"currentWord\">\n          <div\n            :style=\"{\n              'background-image':`url(${currentPage.page.image_url})`,\n              'background-size': `${currentPage.page.width}px`,\n              width: `${currentWord.w}px`,\n              height: `${currentWord.h}px`,\n              'background-position': `-${currentWord.x}px -${currentWord.y}px`,\n            }\"></div>\n          <input type=\"text\" id=\"current_word\" v-model=\"currentWord.string\" ref=\"currentWord\">\n          <small><small>\n            (confidence: <span\n            id=\"current_word_confidence\">{{currentWord.word_confidence}}</span>)\n          </small></small>\n          <button @click=\"addSoftHyphen()\">Add Soft Hyphen(⧟)</button>\n        </div>\n        <input type=\"text\" v-model=\"metadata.name\" placeholder=\"case name\">\n        <input type=\"text\" v-model=\"metadata.docket_number\" placeholder=\"docket number\">\n        <input type=\"text\" v-model=\"metadata.decision_date_original\" placeholder=\"decision date string\">\n        <button class=\"danger\" @click=\"saveCase\">Save Case To Database</button>\n        <div>\n          All changes are saved locally in your browser until you are ready to commit a batch of changes to the\n          database.\n        </div>\n      </div>\n    </div>\n    <div id=\"canvas_div\" class=\"col-9 grid-item\">\n      <page v-for=\"page in pages\" :key=\"page.id\" :page=\"page\" :savedWordEdits=\"savedWordEdits[page.id]\" ref=\"pageComponents\"/>\n    </div>\n  </div>\n</template>\n\n<script>\n  import $ from \"jquery\";\n  import '../jquery_django_csrf';\n  import debounce from \"lodash.debounce\";\n\n  import Page from './page.vue'\n  import {FAKE_SOFT_HYPHEN, SOFT_HYPHEN} from \"./helpers\";\n\n  export default {\n    components: {Page},\n    data() {\n      return {\n        currentWord: null,\n        currentPage: null,\n        showOcr: true,\n        showConfidence: true,\n        metadata: null,\n      }\n    },\n    watch: {\n      metadata: {\n        handler() {\n          this.saveStateToStorage();\n        },\n        deep: true\n      },\n    },\n    beforeMount: function () {\n      // load local variables from Django template\n      this.urls = templateVars.urls;  // eslint-disable-line\n      this.metadata = templateVars.metadata;  // eslint-disable-line\n      this.serverMetadata = {...this.metadata};\n      this.pages = templateVars.pages;  // eslint-disable-line\n      this.fonts = templateVars.fonts;  // eslint-disable-line\n\n      // preprocess fonts\n      for (const fontId of Object.keys(this.fonts))\n        this.fonts[fontId] = this.processFont(this.fonts[fontId]);\n      this.fonts[-1] = {styles:'', family:'Times New Roman', size:12.0};  // default font\n      this.charAscentCache = {};\n\n      // load state from localStorage\n      this.storageKey = `caseedit-${this.metadata.id}`;\n      this.savedWordEdits = {};\n      const savedStateJson = localStorage.getItem(this.storageKey);\n      if (savedStateJson) {\n        try {\n          const savedState = JSON.parse(savedStateJson);\n\n          // for use in page rendering\n          this.savedWordEdits = savedState.edit_list;\n\n          // apply saved updates to metadata, if server val still matches old val\n          if (Object.keys(savedState.metadata).length > 0) {\n            for (const [k, [oldVal, newVal]] of Object.entries(savedState.metadata)) {\n              if (this.metadata[k] === oldVal)\n                this.metadata[k] = newVal;\n            }\n          }\n        } catch(e) {\n          // localStorage is wiped in case of error, so bad state doesn't leave user with an unusable page\n          console.log(\"Error applying edit_list to server state\", e);\n          localStorage.removeItem(this.storageKey);\n        }\n      }\n    },\n    methods: {\n      getMetadataEdits() {\n        /*\n          Prepare dict of all edited metadata, including old value and new value so we can check for consistency\n        */\n        const metadata = {};\n        for (const [k, v] of Object.entries(this.metadata)) {\n          const serverVal = this.serverMetadata[k];\n          if (v !== serverVal)\n            metadata[k] = [serverVal, v];\n        }\n        return metadata;\n      },\n      getTokenEdits(wordIndexed=false) {\n        /*\n          Prepare dict of all edited OCR strings, including old value and new value so we can check for consistency.\n          Dict looks like {\n            <pageId>: {\n              <blockId>: {\n                <index>: [oldVal, newVal]\n              }\n            }\n          }\n          With wordIndexed=false, <index> represents an index into the tokens for the block, used for saving to server.\n          With wordIndexed=true, <index> represents index into clickable words in the block, used for saving to localStorage.\n        */\n        const editList = {};\n        for (const pageComponent of this.$refs.pageComponents) {\n          const pageId = pageComponent.page.id;\n          for (const [wordIndex, word] of pageComponent.words.entries()) {\n            if (word.string !== word.originalString) {\n              if (!editList[pageId])\n                editList[pageId] = {};\n              if (!editList[pageId][word.blockId])\n                editList[pageId][word.blockId] = {};\n              if (wordIndexed) {\n                editList[pageId][word.blockId][wordIndex] = [word.originalString, word.string];\n              } else {\n                const newString = word.string.replace(FAKE_SOFT_HYPHEN, SOFT_HYPHEN);\n                for (const [i, string] of word.strings.entries()) {\n                  editList[pageId][word.blockId][string.index] = [string.value, i === 0 ? newString : ''];\n                }\n              }\n            }\n          }\n        }\n        return editList;\n      },\n      getState(wordIndexed=false) {\n        /* get state for saving to localStorage or server */\n        return {\n          'metadata': this.getMetadataEdits(),\n          'edit_list': this.getTokenEdits(wordIndexed),\n        };\n      },\n      saveStateToStorage: debounce(function() {\n        /* save to local storage */\n        localStorage.setItem(this.storageKey, JSON.stringify(this.getState(true)));\n      }, 1000),\n      async saveCase() {\n        /* save to server */\n        try {\n          await $.ajax('', {\n            type : 'POST',\n            data: JSON.stringify(this.getState()),\n            contentType: 'application/json',\n          }).promise();\n        } catch(e) {\n          // TODO: show server error to user\n          console.log(\"error saving:\", e);\n          return;\n        }\n        localStorage.removeItem(this.storageKey);\n        window.location.href = this.urls.case;\n      },\n      getCharAscent(c, fontId) {\n        /*\n          Return character's ascent, meaning how high in pts the character visually reaches above the baseline in this font.\n          (So \"T\" has a higher value than \"i\" has a higher value than \"a\", which is the same as \"g\".)\n        */\n        const key = `${fontId}-${c}`;\n        if (!this.charAscentCache.hasOwnProperty(key)) {\n          const canvas = document.createElement('canvas');\n          const ctx = canvas.getContext('2d');\n          const font = this.fonts[fontId];\n          ctx.font = `${font.styles} ${font.size}pt ${font.family}`;\n          // multiply by 3/4 to convert from px to pt\n          this.charAscentCache[key] = ctx.measureText(c).actualBoundingBoxAscent * 3/4;\n        }\n        return this.charAscentCache[key];\n      },\n      getFontLineHeight(fontId) {\n        /*\n          Return the ascent height of capital letters in this font.\n          Setting a span's line-height: to this height means that capital letters will touch the top of the\n          containing element, and we then only need to offset the span for lowercase letters.\n        */\n        return this.getCharAscent('T', fontId);\n      },\n      addSoftHyphen() {\n        document.execCommand('insertText', false, FAKE_SOFT_HYPHEN);\n      },\n      processFont(font) {\n        /*\n          Process backend font that looks like\n            {type: \"serif\", style: \"bold smallcaps\", family: \"Times New Roman\", size: \"11.00\", width: \"proportional\"}\n          into CSS-ready font snippets like\n            {family: '\"Times New Roman\",serif', size: 11.0, styles: 'small-caps bold'}\n          Snippets are kept separate so font size can be scaled later.\n        */\n        let styles = [];\n        if (font.style.includes('italics'))\n          styles.push('italic');\n        if (font.style.includes('smallcaps'))\n          styles.push('small-caps');\n        if (font.style.includes('bold'))\n          styles.push('bold');\n        return {\n          family: `\"${font.family}\",${font.type}`,\n          size: parseFloat(font.size),\n          styles: styles.join(' '),\n        };\n      },\n    },\n  }\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=203a3322&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Main from './main.vue'\n\n\nVue.config.devtools = true;\nVue.config.productionTip = false;\n\nnew Vue({\n  el: '#app',\n  components: { Main },\n  template: '<Main/>'\n});\n\n\n\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=0ae31a18&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=0ae31a18&lang=scss&scoped=true&\""],"sourceRoot":""}