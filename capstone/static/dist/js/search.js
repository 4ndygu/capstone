(function(e){var t={};function i(l){if(t[l])return t[l].exports;var s=t[l]={i:l,l:!1,exports:{}};return e[l].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,l){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(l,s,function(t){return e[t]}.bind(null,s));return l},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/static/dist/",i(i.s=4)})({4:function(e,t,i){e.exports=i("faa1")},faa1:function(e,t){const i={cases:[{name:"name_abbreviation",label:"Case Name Abbreviation",value:"",format:"e.g. Taylor v. Sprinkle",info:"the abbreviated case name"},{name:"decision_date_min",label:"Decision Date Earliest",format:"YYYY-MM-DD",info:"the earliest date on which your results could have been decided"},{name:"decision_date_max",value:"",label:"Decision Date Latest",format:"YYYY-MM-DD",info:"the latest date on which your results could have been decided"},{name:"docket_number",value:"",label:"Docket Number",format:"(string)",info:"the docket number assigned by the court"},{name:"citation",value:"",label:"Citation",format:"e.g. 1 Ill. 17",info:"the case citation"},{name:"reporter",value:"",label:"Reporter",format:"e.g. ill-app-ct",info:""},{name:"court",value:"",label:"Court",format:"e.g. ill-app-ct",info:""},{name:"jurisdiction",value:"",label:"Jurisdiction",choices:"jurisdiction",format:"e.g. ill-app-ct",info:""},{name:"search",value:"",label:"Full-Text Search",default:!0,format:"e.g. 'insurance'illinois",info:""}],courts:[{name:"slug",value:"",label:"Name",format:"e.g. ill-app-ct",info:"A slug is a unique alphanumeric identifier which is more readable than a numeric ID."},{name:"name",value:"",label:"Name",format:'e.g. "Illinois Supreme Court"',info:"the official full court name"},{name:"name_abbreviation",value:"",format:'e.g. "Ill."',label:"Name Abbreviation",info:"the abbreviated court name"},{name:"jurisdiction",value:"",label:"Jurisdiction",choices:"jurisdiction",default:!0,info:"the court's jurisdiction"}],jurisdictions:[{name:"id",value:"",format:"e.g. 47",label:"Database ID",info:"A slug is a unique string that represents a database entry which is more readable than a numeric ID."},{name:"name",value:"",label:"Name",format:'e.g. "Ill."',info:"the short, official name of the jurisdiction"},{name:"name_long",value:"",label:"Long Name",format:'e.g. "Illinois"',default:!0,info:"the long, official name of the jurisdiction"},{name:"whitelisted",value:"",label:"Whitelisted Jurisdiction",choices:"whitelisted",info:"Whitelisted cases are not subject to the 500 case per day access limitation."}],volumes:[],reporters:[{name:"full_name",value:"",label:"Full Name",format:'e.g. "Illinois Appellate Court Reports"',info:"the full reporter name"},{name:"short_name",value:"",label:"Short Name",format:'e.g. "Ill. App."',info:"the short reporter name"},{name:"start_year",value:"",label:"Long Name",format:'e.g. "1893"',info:"the year in which the reporter began publishing"},{name:"end_year",value:"",label:"Long Name",format:'e.g. "1894"',info:"the year in which the reporter stopped publishing"},{name:"jurisdiction",value:"",label:"Jurisdiction",choices:"jurisdiction",default:!0,info:"the reporter's jurisdiction"}]};var l=new Vue({el:"#app",data:{title:"Browse or Search",hitcount:null,next_page_url:null,prev_page_url:null,page:0,results:[],api_url:search_url,endpoint:"cases",page_size:10,last_page:!0,first_page:!0,choices:{}},methods:{newSearch:function(e,t){console.log(e),this.endpoint=t,this.resetForm();var i=this.api_url+t+"/?";if(e.length>0){for(var l=e.length-1;l>=0;l--)l!==e.length-1&&(i+="&"),e[l]["value"]&&(i+=e[l]["name"]+"="+e[l]["value"]);i+="&page_size="+this.page_size}else i+="page_size="+this.page_size;this.first_page=!0,this.next_page_url=i,this.nextPage()},nextPage:function(){this.results[this.page+1]?(this.page++,this.pageCheck()):this.next_page_url&&this.getResultsPage(this.next_page_url).then(function(){l.pageCheck()})},prevPage:function(){this.page>0&&(this.page--,this.pageCheck())},getResultsPage:function(e){return this.startLoading(),console.log(e),fetch(e).then(function(t){if(t.ok)return t.json();500===t.status&&(document.getElementById("loading-overlay").style.display="none"),console.log(t.status,t.statusText,e)}).then(function(e){l.hitcount=e.count,l.next_page_url=e.next,l.prev_page_url=e.previous,l.page=l.results.push(e.results)-1}).then(function(){l.stopLoading()})},resetForm:function(){this.title="Browse or Search",this.hitcount=null,this.next_page_url=null,this.prev_page_url=null,this.page=0,this.results=[],this.last_page=!0,this.first_page=!0},pageCheck:function(){null===this.prev_page_url||0===this.page?this.first_page=!0:this.first_page=!1,null===this.next_page_url&&this.page===this.results.length-1?this.last_page=!0:this.last_page=!1},startLoading:function(){document.getElementById("loading-overlay").style.display="block"},stopLoading:function(){document.getElementById("loading-overlay").style.display="none"},seeCases:function(e,t){fields=[{label:e,name:e,value:t}],this.newSearch(fields,"cases"),this.$refs.searchform.changeEndpoint("cases",fields)}},delimiters:["[[","]]"],template:"",components:{"search-form":{data:function(){return{query:[],newfield:null,endpoint:"cases",fields:[{name:"search",label:"Full-Text Search",format:"e.g. 'insurance illinois'",value:""}],endpoints:i}},template:'<form v-on:submit.prevent>                <div class="row">                    <template v-for="(current_fields, current_endpoint) in endpoints">                        <div class="col">                            <input type="radio" :id="current_endpoint" :value="current_endpoint" @change="changeEndpoint(endpoint)" v-model="endpoint">                            <label :for="current_endpoint" v-text="current_endpoint"></label>                        </div>                    </template>                </div>                <div>                    <div v-for="field in fields">                        <div class="row field_row_container">                            <div class="col-4 field_label_container">                                <label class="querylabel" :for="field[\'name\']">{{ field["label"] }}</label><br>                            </div>                            <div class="col-7 field_value_container">                                <template v-if="field[\'choices\']">                                    <select v-model=\'field["value"]\' :id=\'field["name"]\'>                                        <option v-for="(label, value) in choiceLoader(field[\'choices\'])" :value="value">{{ label }}</option>                                     </select>                                </template>                                <template v-else-if="field[\'format\']">                                    <input v-model=\'field["value"]\' class="queryfield" :id=\'field["name"]\' type="text" :placeholder=\'field["format"]\'>                                </template>                                <template v-else>                                    <input v-model=\'field["value"]\' class="queryfield" :id=\'field["name"]\' type="text">                                </template>                            </div>                            <div class="col-1">                                <button class="querybutton" v-if="fields.length > 1" @click="removeField(field[\'name\'])">&ndash;</button>                            </div>                        </div>                    </div>                    <template v-if="fields.length > 0">                        <div>                        <div class="row field_row_container">                            <div class="col-4 field_label_container">                                <select v-model="newfield" @change="fields.push(newfield)">                                    <option v-for="newfield in endpoints[endpoint]" v-bind:value="newfield">{{ newfield["label"] }}</option>                                    <option value="" disabled selected>Add a field</option>                                </select>                            </div>                            <div class="col-7 field_value_container">                                <input type="text" class="queryfield" placeholder = "add a new field" disabled>                            </div>                        </div>                        </div>                    </template>                </div>                <template v-if="fields.length > 0">                    <input @click="$emit(\'new-search\', fields, endpoint)" type="submit">                </template>                <template v-else>                    <input @click="$emit(\'new-search\', fields, endpoint)" type="submit" value="Browse All">                </template>             </form>',beforeMount(){for(endpoint in i)for(field in i[endpoint])"choices"in i[endpoint][field]&&this.choiceLoader(i[endpoint][field].choices)},methods:{changeEndpoint:function(e,t=[]){if(this.$parent.endpoint=e,this.endpoint=e,this.fields=t,this.$emit("change-endpoint"),0===t.length)for(var i=this.endpoints[e].length-1;i>=0;i--)this.endpoints[e][i]["default"]&&this.fields.push(this.endpoints[e][i])},removeField:function(e){for(var t=this.fields.length-1;t>=0;t--)this.fields[t]["name"]===e&&this.fields.splice(t,1)},addField:function(e){for(var t=this.fields.length-1;t>=0;t--)if(this.fields[t]["name"]===e["name"])return!1;this.fields.push(e)},choiceLoader:function(e){return component=null,l?component=l:"choices"in this.$parent&&(component=this.$parent),e in component.choices?component.choices[e]:"whitelisted"==e?{true:"Whitelisted",false:"Not Whitelisted"}:(component.startLoading(),fetch(choice_source[e]).then(function(e){if(e.ok)return e.json();500===e.status&&(document.getElementById("loading-overlay").style.display="none")}).then(function(t){component.choices[e]=t}).then(function(){component.stopLoading()}))}}},"result-list":{props:["results","endpoint","hitcount","page","first_page","last_page"],template:'<div>                <div class="hitcount" v-if="hitcount">Results: {{ hitcount }}</div>                <button v-if="first_page !== true" @click="$emit(\'prev-page\')">&lt;&lt;Page {{ page }} </button>                <button v-if="last_page !== true" @click="$emit(\'next-page\')">Page {{ page + 2 }}&gt;&gt;</button>                <ul class="results-list">                    <case-result v-if="endpoint == \'cases\'" v-for="result in results[page]" :result="result" :key="result.id"></case-result>                    <court-result v-if="endpoint == \'courts\'" v-for="result in results[page]" :result="result" :key="result.id"></court-result>                    <jurisdiction-result v-if="endpoint == \'jurisdictions\'" v-for="result in results[page]" :result="result" :key="result.id"></jurisdiction-result>                    <volume-result v-if="endpoint == \'volumes\'" v-for="result in results[page]" :result="result" :key="result.id"></volume-result>                    <reporter-result v-if="endpoint == \'reporters\'" v-for="result in results[page]" :result="result" :key="result.id"></reporter-result>                </ul>             </div>',components:{"case-result":{props:["result"],template:'                <li class="result">                  <div class="search-title">                    <a target="_blank" v-text="result.name_abbreviation" :href="case_browse_url(result.id)"></a>                  </div>                  <div class="search-data">                    <div class="result-first-row">                      <div class="result-first-row-left">                        <ul class="citation-list">                            <li class="citation-entry" v-for="citation in result.citations">                                <span class="result-citation-type">{{  citation.type  }}</span>                                <span class="result-citation">{{ citation.cite }} </span>                            </li>                        </ul>                      </div>                    </div>                    <div class="result-second-row">                      <div class="result-dec-date">{{ result.decision_date }}</div>                      <div v-if="result.court" class="result-court-name">{{ result.court.name }}</div>                      <div v-if="result.volume" class="result-volume-number">v. {{ result.volume.volume_number }}</div>                    </div>                  </div>                </li>',methods:{case_browse_url:function(e){return case_browse_url_template.replace("987654321",e)}}},"court-result":{props:["result"],template:'                    <li class="result">                        <div class="search-title"><a v-text="result.name" @click="$parent.$emit(\'see-cases\', \'court\', result.slug)"></a></div>                        <div class="search-data">                            <div class="result-first-row">                                <div class="result-first-row-left">{{ result.jurisdiction }}</div>                                <div class="result-first-row-left">{{ result.name_abbreviation }}</div>                            </div>                        </div>                    </li>'},"volume-result":{props:["result"],template:'                    <li class="result">                        <div class="search-title"><a :href="result.url">{{ result.reporter }} v. {{ result.volume_number }}</a></div>                        <div class="search-data">                            <div class="result-first-row">                                <div class="result-first-row-left">{{ result.publication_year }}</div>                                <div class="result-first-row-left">{{ result.jurisdiction }}</div>                            </div>                        </div>                    </li>'},"jurisdiction-result":{props:["result"],template:'                    <li class="result">                        <div class="search-title"><a v-text="" @click="$parent.$emit(\'see-cases\', \'jurisdiction\', result.slug)">{{result.name_long}} ({{ result.name }})</a></div>                        <div class="search-data">                            <div class="result-first-row">                                Slug: <div class="result-first-row-left">{{ result.slug }}</div>                                Abbr: <div class="result-first-row-left">{{ result.name_abbreviation }}</div>                            </div>                        </div>                    </li>'},"reporter-result":{props:["result"],template:'                    <li class="result">                        <div class="search-title"><a v-text="result.full_name" @click="$parent.$emit(\'see-cases\', \'reporter\', result.id)"></a></div>                        <div class="search-data">                            <div class="result-first-row">                                <div class="result-first-row-left"><a :href="result.url">Browse Cases</a></div>                                <div class="result-first-row-left">{{ result.short_name }}</div>                            </div>                        </div>                    </li>'}}}}})}});
//# sourceMappingURL=search.js.map